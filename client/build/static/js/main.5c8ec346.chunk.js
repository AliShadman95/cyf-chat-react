(this.webpackJsonpnodejschat=this.webpackJsonpnodejschat||[]).push([[0],{141:function(e,t,a){e.exports=a.p+"static/media/001-man-13.15712c0a.svg"},142:function(e,t,a){e.exports=a.p+"static/media/002-woman-14.2414c095.svg"},143:function(e,t,a){e.exports=a.p+"static/media/003-woman-13.0edc384b.svg"},144:function(e,t,a){e.exports=a.p+"static/media/004-woman-12.4cc23eec.svg"},145:function(e,t,a){e.exports=a.p+"static/media/005-woman-11.4b92798f.svg"},146:function(e,t,a){e.exports=a.p+"static/media/006-woman-10.34ec441d.svg"},147:function(e,t,a){e.exports=a.p+"static/media/007-woman-9.bfbe8a5a.svg"},148:function(e,t,a){e.exports=a.p+"static/media/008-woman-8.359a04b3.svg"},149:function(e,t,a){e.exports=a.p+"static/media/009-woman-7.097950b2.svg"},150:function(e,t,a){e.exports=a.p+"static/media/010-woman-6.56caf7d3.svg"},151:function(e,t,a){e.exports=a.p+"static/media/011-woman-5.2c13d4c4.svg"},152:function(e,t,a){e.exports=a.p+"static/media/012-woman-4.10dedf9a.svg"},153:function(e,t,a){e.exports=a.p+"static/media/013-woman-3.ccd33987.svg"},154:function(e,t,a){e.exports=a.p+"static/media/014-man-12.647a2b5b.svg"},155:function(e,t,a){e.exports=a.p+"static/media/015-man-11.4c2513c3.svg"},156:function(e,t,a){e.exports=a.p+"static/media/016-man-10.b131a5ec.svg"},157:function(e,t,a){e.exports=a.p+"static/media/017-man-9.dfcb8c75.svg"},158:function(e,t,a){e.exports=a.p+"static/media/018-man-8.46ed9461.svg"},159:function(e,t,a){e.exports=a.p+"static/media/019-man-7.24286cc5.svg"},160:function(e,t,a){e.exports=a.p+"static/media/020-man-6.378c61cb.svg"},161:function(e,t,a){e.exports=a.p+"static/media/021-man-5.1eb5a28c.svg"},162:function(e,t,a){e.exports=a.p+"static/media/022-man-4.67595189.svg"},163:function(e,t,a){e.exports=a.p+"static/media/023-man-3.0ce7816a.svg"},164:function(e,t,a){e.exports=a.p+"static/media/024-man-2.c46d8f7a.svg"},165:function(e,t,a){e.exports=a.p+"static/media/025-man-1.351777d4.svg"},166:function(e,t,a){e.exports=a.p+"static/media/026-man.084ac449.svg"},167:function(e,t,a){e.exports=a.p+"static/media/027-boy-6.2ecb076c.svg"},168:function(e,t,a){e.exports=a.p+"static/media/028-boy-5.a7bd0a9c.svg"},169:function(e,t,a){e.exports=a.p+"static/media/029-boy-4.3fd0abf1.svg"},170:function(e,t,a){e.exports=a.p+"static/media/030-boy-3.ed96e16c.svg"},171:function(e,t,a){e.exports=a.p+"static/media/031-boy-2.c5427690.svg"},172:function(e,t,a){e.exports=a.p+"static/media/032-boy-1.a7a70bc1.svg"},173:function(e,t,a){e.exports=a.p+"static/media/033-boy.4ff5460a.svg"},174:function(e,t,a){e.exports=a.p+"static/media/034-woman-2.94893de5.svg"},175:function(e,t,a){e.exports=a.p+"static/media/035-woman-1.5d0ce5ae.svg"},176:function(e,t,a){e.exports=a.p+"static/media/036-woman.c49d22fe.svg"},200:function(e,t,a){e.exports=a(325)},205:function(e,t,a){},233:function(e,t){},322:function(e,t,a){},324:function(e,t,a){},325:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),c=a.n(o),s=(a(205),a(70)),i=a(40),l=a(133),u=a(134),m=a(185),p=a(9),d=a(6),f=a(137),b=a.n(f),g=a(138),E=a.n(g),v=a(384),h=a(366),O=a(4),y=a(364),x=a(367),j=a(368),w=a(387),k=a(25),S=a(365),T=a(16),C=a(12),N=a.n(C),M=a(21),D=a(31),P=a.n(D),_=function(e){return function(){var t=Object(M.a)(N.a.mark((function t(a){var n;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("about to fetch"),t.next=3,P.a.get("https://chat-by-as.herokuapp.com/messages/rooms/".concat(e));case 3:n=t.sent,a({type:"GET_MESSAGES",payload:n.data});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},L=function(e){return function(){var t=Object(M.a)(N.a.mark((function t(a){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("about to delete",e),t.next=3,P.a.delete("https://chat-by-as.herokuapp.com/messages/id/".concat(e));case 3:t.sent,a({type:"DELETE_MESSAGE",id:e});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},I=function(e,t){return function(){var a=Object(M.a)(N.a.mark((function a(n){return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("about to edit"),a.next=3,P.a.put("https://chat-by-as.herokuapp.com/messages/id/".concat(e),{message:t});case 3:a.sent,n({type:"EDIT_MESSAGE",id:e,message:t});case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},R=function(e){return function(t){t({type:"SET_USER_TYPING",payload:e})}},G=Object(O.a)({root:{"& label.Mui-focused":{color:"black"},"& .MuiInput-underline:after":{borderBottomColor:"#B0B2B5"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"red"},"&:hover fieldset":{borderColor:"#76787D"},"&.Mui-focused fieldset":{borderColor:"#76787D"}}}})(w.a),A=Object(y.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},margin:{},alignselfcenter:{alignSelf:"center"},button:{boxShadow:"0px 6px 16px -4px rgba(0,0,0,0.56)"}}})),B=Object(T.b)((function(e){return{userTyping:e.userTyping.item,room:e.room.item}}),{postMessage:function(e){return function(){var t=Object(M.a)(N.a.mark((function t(a){var n;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("about to POST"),t.next=3,P.a.post("https://chat-by-as.herokuapp.com/messages",e);case 3:n=t.sent,a({type:"POST_MESSAGE",payload:n.data});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getMessages:_,setUserTyping:R})((function(e){var t=e.postMessage,a=e.setUserTyping,o=e.userTyping,c=e.socket,s=e.room,i=e.name,l=e.avatar,u=A(),m=Object(k.a)(),d=Object(S.a)(m.breakpoints.down("sm")),f=Object(n.useState)(""),b=Object(p.a)(f,2),g=b[0],E=b[1],v=Object(n.useState)(!1),O=Object(p.a)(v,2),y=O[0],w=O[1];Object(n.useEffect)((function(){c.on("IS_TYPING",(function(e){var t=e.name,n=o;if(" is typing.."!==n&&n!=="".concat(t," is typing..")){var r=n.match(/\S+/g),c=t.concat(" and ".concat(r[0]," are typing... "));a(c)}else{var s=t.concat(n);a(s)}})),c.on("IS_NOT_TYPING",(function(e){var t=e.message;a(t)}))}),[y]);var T=function(){console.log("called typing stopped"),w(!1),c.emit("SEND_IS_NOT_TYPING",{room:s,name:i},(function(e){console.log(e)}))},C=function(e){e.preventDefault(),g&&(console.log("sendeding messaghe"),c.emit("SEND_MESSAGE",g,(function(){E("")}))),t({name:i,avatar:l,message:g,room:"main"})};return r.a.createElement(h.a,{container:!0},r.a.createElement(h.a,{item:!0,md:10,xl:10,xs:8},r.a.createElement(G,{className:u.margin,id:"filled-full-width",fullWidth:!0,margin:"normal",value:g,onChange:function(e){return function(e){var t;E(e.target.value),!1===y?(console.log("inside is typing"),w(!0),console.log("sending "),c.emit("SEND_IS_TYPING",{room:s,name:i},(function(e){console.log(e)})),t=setTimeout(T,4e3)):(clearTimeout(t),t=setTimeout(T,4e3),clearTimeout(t))}(e)},onKeyPress:function(e){return"Enter"===e.key?C(e):null}})),r.a.createElement(h.a,{item:!0,md:2,xl:2,xs:4,className:u.alignselfcenter+" pl-2"},r.a.createElement(x.a,{variant:"contained",color:"primary",className:u.button,endIcon:r.a.createElement(j.a,null,"send"),size:d?"small":"large",onClick:function(e){C(e)}},"Send")))})),U=a(363),W=a(386),z=a(328),F=a(369),H=a(53),X=a(370),Y=a(371),J=a(372),K=a(141),V=a.n(K),$=a(142),q=a.n($),Q=a(143),Z=a.n(Q),ee=a(144),te=a.n(ee),ae=a(145),ne=a.n(ae),re=a(146),oe=a.n(re),ce=a(147),se=a.n(ce),ie=a(148),le=a.n(ie),ue=a(149),me=a.n(ue),pe=a(150),de=a.n(pe),fe=a(151),be=a.n(fe),ge=a(152),Ee=a.n(ge),ve=a(153),he=a.n(ve),Oe=a(154),ye=a.n(Oe),xe=a(155),je=a.n(xe),we=a(156),ke=a.n(we),Se=a(157),Te=a.n(Se),Ce=a(158),Ne=a.n(Ce),Me=a(159),De=a.n(Me),Pe=a(160),_e=a.n(Pe),Le=a(161),Ie=a.n(Le),Re=a(162),Ge=a.n(Re),Ae=a(163),Be=a.n(Ae),Ue=a(164),We=a.n(Ue),ze=a(165),Fe=a.n(ze),He=a(166),Xe=a.n(He),Ye=a(167),Je=a.n(Ye),Ke=a(168),Ve=a.n(Ke),$e=a(169),qe=a.n($e),Qe=a(170),Ze=a.n(Qe),et=a(171),tt=a.n(et),at=a(172),nt=a.n(at),rt=a(173),ot=a.n(rt),ct=a(174),st=a.n(ct),it=a(175),lt=a.n(it),ut=a(176),mt=a.n(ut),pt=[V.a,q.a,Z.a,te.a,ne.a,oe.a,se.a,le.a,me.a,de.a,be.a,Ee.a,he.a,ye.a,je.a,ke.a,Te.a,Ne.a,De.a,_e.a,Ie.a,Ge.a,Be.a,We.a,Fe.a,Xe.a,Je.a,Ve.a,qe.a,Ze.a,tt.a,nt.a,ot.a,st.a,lt.a,mt.a],dt=Object(y.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},roomsXS:Object(d.a)({},e.breakpoints.down("xs"),{justifyContent:"center"}),avatarMini:{width:"18px",height:"18px"},avatarListMini:{minWidth:"0px",paddingLeft:"4%"},dots:{color:"white !important",paddingLeft:"2%",paddingTop:"4%"}}})),ft=function(e){var t=e.roomName,a=e.users,n=e.index,o=e.currentRoom,c=e.selectedIndex,s=e.handleListItemClick,i=dt(),l=r.a.useState(!1),u=Object(p.a)(l,2),m=u[0],d=u[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{button:!0,className:i.roomsXS,selected:c===n,onClick:function(e){return function(e,a){t.toLowerCase()===o.toLowerCase()&&d(!m),s(e,a)}(e,n)}},r.a.createElement(W.a,null,r.a.createElement(F.a,null,t)),t.toLowerCase()===o.toLowerCase()&&a.map((function(e,t){var a=e.avatar,n=e.room;return t>4?n.toLowerCase()===o.toLowerCase()&&r.a.createElement(H.a,{component:"span",variant:"caption",className:i.dots},"..."):n.toLowerCase()===o.toLowerCase()&&r.a.createElement(X.a,{key:t,className:i.avatarListMini},r.a.createElement(Y.a,{className:i.avatarMini,src:pt[a]}))}))),r.a.createElement(J.a,{in:c===n&&m,timeout:"auto",unmountOnExit:!0},r.a.createElement(U.a,{dense:!0},a.map((function(e,t){var a=e.avatar,n=e.name;return r.a.createElement(z.a,{key:t},r.a.createElement(X.a,null,r.a.createElement(Y.a,{src:pt[a]})),r.a.createElement(F.a,{primary:n}))})))))},bt=a(76),gt=a.n(bt),Et=function(e){return function(t){t({type:"SET_USERS",payload:e})}},vt=Object(y.a)({root:{backgroundColor:"#404346",boxShadow:"0px 6px 16px -4px rgba(0,0,0,0.56)",color:"white",overflow:"auto",height:"100%"},room:{backgroundColor:"#404346"},messageBox:{alignItems:"flex-end"}}),ht=Object(T.b)((function(e){return{users:e.users.items,room:e.room.item}}),{setUsers:Et,getMessages:_,setRoom:function(e){return function(t){t({type:"SET_ROOM",payload:e})}}})((function(e){var t=e.socket,a=e.room,o=e.setRoom,c=e.setUsers,s=e.getMessages,i=e.users,l=vt(),u=r.a.useState(0),m=Object(p.a)(u,2),d=m[0],f=m[1],b=Object(n.useState)([]),g=Object(p.a)(b,2),E=g[0],v=g[1],h=function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){t.current=e})),t.current}(a),O=["Main","Chill","Evening","Room1","Room2","Room3"];Object(n.useEffect)((function(){if(h||v(O),a!==h&&h)return t.emit("CHANGE_ROOM",{room:a},(function(e){console.log(e)})),t.on("roomData",(function(e){var t=e.users;c(t)})),function(){t.emit("disconnect"),t.off()}}),[a]);var y=function(){var e=Object(M.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a!==t){e.next=2;break}return e.abrupt("return");case 2:s(t),o(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(e,t){e.preventDefault(),y(E[t].toLowerCase()),f(t)};return console.log(a),r.a.createElement(gt.a,{className:l.root},r.a.createElement(U.a,{className:l.room},O.map((function(e,t){return r.a.createElement(W.a,{key:t},r.a.createElement(ft,{roomName:e,index:t,users:i,currentRoom:a,selectedIndex:d,handleListItemClick:x}))}))))})),Ot=a(390),yt=a(376),xt=a(377),jt=a(378),wt=a(379),kt=a(184),St=a(373),Tt=a(374),Ct=a(375),Nt=a(177),Mt=a.n(Nt),Dt=a(63),Pt=a(62),_t=a.n(Pt),Lt=a(178),It=a.n(Lt),Rt=a(3),Gt=Object(O.a)({paper:{border:"1px solid #d3d4d5"}})((function(e){return r.a.createElement(kt.a,Object.assign({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},e))})),At=Object(O.a)((function(e){return{root:{"&:hover":{backgroundColor:e.palette.grey,"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.common.white}}}}}))(St.a),Bt=Object(T.b)((function(e){return{room:e.room.item}}),{deleteMessage:L})((function(e){var t=e.deleteMessage,a=e.onEdit,o=e.id,c=e.room,s=e.socket,i=Object(n.useState)(!1),l=Object(p.a)(i,2),u=(l[0],l[1],r.a.useState(null)),m=Object(p.a)(u,2),d=m[0],f=m[1];return r.a.createElement(W.a,null,r.a.createElement(Tt.a,{onClick:function(e){f(e.currentTarget)}},r.a.createElement(_t.a,{path:Dt.a,title:"Menu",size:1,color:"white"})),r.a.createElement(Gt,{id:"customized-menu",anchorEl:d,keepMounted:!0,open:Boolean(d),onClose:function(){f(null)}},r.a.createElement(At,{onClick:function(e){e.preventDefault(),function(e){t(e),s.emit("DELETE",{room:c,id:e},(function(){}))}(o)}},r.a.createElement(Ct.a,null,r.a.createElement(Mt.a,{color:"secondary"})),r.a.createElement(F.a,{primary:r.a.createElement(H.a,{component:"span",className:"pl-3",variant:"body2"},"Delete")})),r.a.createElement(At,{onClick:function(e){e.preventDefault(),a(o)}},r.a.createElement(Ct.a,null,r.a.createElement(It.a,{color:"primary"})),r.a.createElement(F.a,{primary:r.a.createElement(H.a,{component:"span",className:"pl-3",variant:"body2"},"Edit")}))))})),Ut=a(77),Wt=a.n(Ut),zt=(a(299),Object(y.a)((function(e){return{whiteText:{color:"white !important"},date:{color:"grey !important",fontSize:"12px !important"},menuRight:{textAlign:"right"}}}))),Ft={lastDay:"[Yesterday at] LT",sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",lastWeek:"[last] dddd [at] LT",nextWeek:"dddd [at] LT",sameElse:"L"},Ht=Object(T.b)((function(e){return{room:e.room.item}}),{editMessage:I})((function(e){var t=e.message,a=e.name,o=e.date,c=e.avatar,s=e.editMessage,i=e.id,l=e.room,u=e.socket,m=zt(),d=Object(n.useState)(!1),f=Object(p.a)(d,2),b=f[0],g=f[1],E=Object(n.useState)(t),v=Object(p.a)(E,2),h=v[0],O=v[1],y=function(){g(!b)},j=function(e){e.preventDefault(),s(i,h),g(!1),u.emit("EDIT",{room:l,id:i},(function(){}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{alignItems:"flex-start"},r.a.createElement(X.a,null,r.a.createElement(Y.a,{src:pt[c]})),r.a.createElement(F.a,{primary:r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,null,a+"  ",r.a.createElement(Wt.a,{calendar:Ft,className:m.date},o))),secondary:r.a.createElement(r.a.Fragment,null,!b&&r.a.createElement(H.a,{component:"span",variant:"body2",className:m.whiteText},t))}),b&&r.a.createElement(Ot.a,{open:!0,onClose:y,"aria-labelledby":"form-dialog-title"},r.a.createElement(yt.a,{id:"form-dialog-title"},"Edit"),r.a.createElement(xt.a,null,r.a.createElement(jt.a,null,"Edit the message.."),r.a.createElement(w.a,{id:"standard-name",autoFocus:!0,value:h,onChange:function(e){return function(e){e.preventDefault(),O(e.target.value)}(e)},margin:"normal",fullWidth:!0,onKeyPress:function(e){return"Enter"===e.key?j(e):null}})),r.a.createElement(wt.a,null,r.a.createElement(x.a,{onClick:y,color:"secondary"},"Cancel"),r.a.createElement(x.a,{onClick:function(e){!function(e){g(!b),j(e)}(e)},color:"primary"},"Edit"))),"Admin"!==a&&r.a.createElement(W.a,{className:m.menuRight},r.a.createElement(Bt,{onEdit:function(e){g(!0)},id:i,socket:u}))))})),Xt=Object(y.a)({root:{backgroundColor:"#404346",boxShadow:"0px 6px 16px -4px rgba(0,0,0,0.56)",color:"white",overflow:"auto",height:"100%"},messageBox:{alignItems:"flex-end"}}),Yt=Object(T.b)((function(e){return{messages:e.messages.items,room:e.room.item}}),{getMessages:_,setMessage:function(e){return function(){var t=Object(M.a)(N.a.mark((function t(a){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("about to SET"),a({type:"POST_MESSAGE",payload:e});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setUsers:Et,editMessage:I,deleteMessage:L,setUserTyping:R})((function(e){var t=e.socket,a=e.messages,o=e.setUsers,c=e.setMessage,s=(e.deleteMessage,e.editMessage,e.getMessages),i=e.setUserTyping,l=e.room,u=e.name,m=Xt();return Object(n.useEffect)((function(){s("main")}),[s]),Object(n.useEffect)((function(){return console.log("called message effect"),t.on("message",(function(e){switch(console.log(e,"GOT THIS"),e.type){case"MESSAGE":e.name!==u&&c(e);break;case"LEFT":i(" is typing..");break;case"DELETE":console.log("about to set the timeout"),setTimeout((function(){return s(l)}),2e3);break;case"EDIT":setTimeout((function(){return s(l)}),2e3);break;default:c(e)}})),t.on("roomData",(function(e){var t=e.users;o(t)})),function(){t.emit("disconnect"),t.off()}}),[a]),r.a.createElement(gt.a,{className:m.root},r.a.createElement(U.a,null,a.map((function(e,a){return r.a.createElement(W.a,{key:e._id?e._id:a,className:m.messageBox},r.a.createElement(Ht,{message:e.message,avatar:e.avatar,name:e.name,date:e.date,id:e._id,socket:t}))}))))})),Jt=a(382),Kt=a(383),Vt=a(389),$t=a(391),qt=a(362),Qt=a(393),Zt=a(381),ea=a(8),ta=a(179),aa=a.n(ta),na=a(380),ra=Object(y.a)((function(e){return{root:{flexGrow:1},title:Object(d.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(d.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(ea.c)(e.palette.common.white,.9),"&:hover":{backgroundColor:Object(ea.c)(e.palette.common.white,.9)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"black"},inputInput:Object(d.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}}),date:{color:"grey !important",fontSize:"12px !important"},expand:{marginLeft:"auto"},expandOpen:{}}})),oa=Object(O.a)({paper:{border:"1px solid #d3d4d5"}})((function(e){return r.a.createElement(kt.a,Object.assign({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},e))})),ca=Object(O.a)((function(e){return{root:{"&:focus":{backgroundColor:e.palette.primary.main,"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.common.white}}}}}))(St.a),sa=Object(O.a)({root:{color:na.a[400],"&$checked":{color:na.a[600]}},checked:{}})((function(e){return r.a.createElement(Vt.a,Object.assign({color:"default"},e))})),ia={lastDay:"[Yesterday at] LT",sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",lastWeek:"[last] dddd [at] LT",nextWeek:"dddd [at] LT",sameElse:"L"},la=Object(T.b)((function(e){return{messages:e.messages.searchedResults,room:e.room.item}}),{searchMessage:function(e,t,a){return function(){var n=Object(M.a)(N.a.mark((function n(r){var o,c;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=0===a?"".concat(t):"room/".concat(e,"/").concat(t),n.next=3,P.a.get("https://chat-by-as.herokuapp.com/messages/search/".concat(o));case 3:c=n.sent,r({type:"SEARCH_MESSAGE",payload:c.data});case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.searchMessage,a=e.messages,n=e.room,o=ra(),c=r.a.useState(null),s=Object(p.a)(c,2),i=s[0],l=s[1],u=r.a.useState(-1),m=Object(p.a)(u,2),f=m[0],b=m[1],g=r.a.useState("a"),E=Object(p.a)(g,2),v=E[0],h=E[1],O=r.a.useState(""),y=Object(p.a)(O,2),x=y[0],j=y[1],w=function(e){e.preventDefault(),l(e.currentTarget),t(n,x,1)};return r.a.createElement("div",{className:o.search},r.a.createElement(Tt.a,{onClick:function(e){return w(e)}},r.a.createElement("div",{className:o.searchIcon},r.a.createElement(aa.a,null))),r.a.createElement($t.a,{placeholder:"Search\u2026",onChange:function(e){e.preventDefault(),function(e){j(e)}(e.target.value)},onKeyPress:function(e){return"Enter"===e.key?w(e):null},classes:{root:o.inputRoot,input:o.inputInput},inputProps:{"aria-label":"search"}}),r.a.createElement(oa,{id:"customized-menu",anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:function(){l(null)}},r.a.createElement(W.a,{className:"pl-3 d-flex "},r.a.createElement(qt.a,{component:"fieldset"},r.a.createElement(Qt.a,{"aria-label":"position",name:"position",value:v,onChange:function(e){h(e.target.value),t(n,x,"c"===e.target.value?0:1)},row:!0,className:"d-flex flex-nowrap"},r.a.createElement(Zt.a,{value:"end",control:r.a.createElement(Vt.a,{checked:"a"===v,value:"a",name:"radio-button-demo",inputProps:{"aria-label":"A"}}),label:"This room",labelPlacement:"end"}),r.a.createElement(Zt.a,{value:"end",control:r.a.createElement(sa,{checked:"c"===v,value:"c",name:"radio-button-demo",inputProps:{"aria-label":"C"}}),label:"All rooms",labelPlacement:"end"})))),a.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(ca,{key:t,className:Object(Rt.a)(o.expand,Object(d.a)({},o.expandOpen,f===t)),onClick:function(){var e;b(f===(e=t)?-1:e)},"aria-expanded":f===t,"aria-label":"show more"},r.a.createElement(X.a,null,r.a.createElement(Y.a,{src:pt[e.avatar]})),r.a.createElement(F.a,{primary:r.a.createElement(r.a.Fragment,null,e.name+" ",r.a.createElement(Wt.a,{calendar:ia,className:o.date},e.date))})),r.a.createElement(J.a,{in:f===t,timeout:"auto",unmountOnExit:!0},r.a.createElement(H.a,{component:"span",variant:"body2"},e.message)))}))))})),ua=Object(y.a)((function(e){return{root:{flexGrow:1},title:Object(d.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"})}})),ma=function(e){e.searchMessages,e.searchMessagesResult;var t=ua();return r.a.createElement("div",{className:t.root},r.a.createElement(Jt.a,{position:"static",style:{backgroundColor:"#404346"}},r.a.createElement(Kt.a,{variant:"dense"},r.a.createElement(H.a,{className:t.title,variant:"h6",noWrap:!0},"Let's Chat!"),r.a.createElement(la,null))))},pa=Object(T.b)((function(e){return{userTyping:e.userTyping.item}}),{})((function(e){var t=e.userTyping;return r.a.createElement(H.a,{component:"span",variant:"caption",style:{color:"white"}}," is typing.."!==t&&t)})),da=a(392),fa=Object(T.b)((function(e){return{room:e.room.item}}),{getMessages:_,getLatestMessages:function(e){return function(){var t=Object(M.a)(N.a.mark((function t(a){var n;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.get("https://chat-by-as.herokuapp.com/messages/latest/".concat(e));case 2:n=t.sent,a({type:"GET_MESSAGES",payload:n.data.reverse()});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.room,a=e.getMessages,n=e.getLatestMessages;return r.a.createElement(r.a.Fragment,null,r.a.createElement(da.a,{style:{boxShadow:"0px 6px 16px -4px rgba(0,0,0,0.56)"},avatar:r.a.createElement(_t.a,{path:Dt.b,title:"reload",size:1,color:"white"}),label:r.a.createElement(H.a,{component:"span",variant:"caption",style:{color:"white"}},"Fetch all"),onClick:function(e){e.preventDefault(),a(t)},variant:"outlined"}),r.a.createElement(da.a,{style:{boxShadow:"0px 6px 16px -4px rgba(0,0,0,0.56)"},avatar:r.a.createElement(_t.a,{path:Dt.b,title:"reload",size:1,color:"white"}),label:r.a.createElement(H.a,{component:"span",variant:"caption",style:{color:"white"}},"Last 10"),onClick:function(e){e.preventDefault(),n(t)},variant:"outlined",className:"ml-2"}))})),ba="https://chat-by-as.herokuapp.com/",ga=b()(ba),Ea=Object(y.a)((function(e){var t,a;return{chipsXS:Object(d.a)({},e.breakpoints.down("xs"),{display:"flex",justifyContent:"space-evenly"}),roomHeightBreak:(t={},Object(d.a)(t,e.breakpoints.between("xs","sm"),{paddingRight:"0px",paddingLeft:"0px"}),Object(d.a)(t,e.breakpoints.between("lg","xl"),{height:"80vh",paddingRight:"0px"}),Object(d.a)(t,e.breakpoints.only("lg"),{height:"75vh",paddingRight:"0px"}),t),messageHeightBreak:(a={},Object(d.a)(a,e.breakpoints.between("xs","sm"),{height:"33vh",paddingRight:"0px",paddingLeft:"0px"}),Object(d.a)(a,e.breakpoints.between("lg","xl"),{height:"80vh",paddingRight:"0px"}),Object(d.a)(a,e.breakpoints.only("sm"),{height:"50vh",paddingRight:"0px"}),Object(d.a)(a,e.breakpoints.only("lg"),{height:"75vh",paddingRight:"0px"}),a)}})),va=function(e){var t=e.location,a=Ea(),o=Object(n.useState)(""),c=Object(p.a)(o,2),s=c[0],i=c[1],l=Object(n.useState)(0),u=Object(p.a)(l,2),m=u[0],d=u[1];return Object(n.useEffect)((function(){var e=E.a.parse(t.search),a=e.name,n=e.avatar;return i(a),d(n),console.log("calling join emit"),ga.emit("join",{name:a,avatar:n,room:"main"},(function(e){console.log("inside join emit, added user"),console.log(e)})),function(){ga.emit("disconnect"),ga.off()}}),[ba,t.search]),r.a.createElement("div",{className:"App"},r.a.createElement(v.a,{maxWidth:"xl"},r.a.createElement(h.a,{container:!0},r.a.createElement(h.a,{item:!0,md:12,xl:12,xs:12},r.a.createElement(ma,null)),r.a.createElement(h.a,{item:!0,md:2,xl:2,sm:12,xs:12,className:"mt-3"},r.a.createElement(W.a,{className:a.roomHeightBreak},r.a.createElement(ht,{socket:ga})),r.a.createElement(W.a,{className:"mt-4"},r.a.createElement(W.a,{className:a.chipsXS},r.a.createElement(fa,null)))),r.a.createElement(h.a,{item:!0,md:10,xl:10,xs:12},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:a.messageHeightBreak+" col-md-12 mt-3"},r.a.createElement(Yt,{socket:ga,name:s}))),r.a.createElement("div",{className:"row mt-2"},r.a.createElement("div",{className:"col-md-12 col-xs-12"},r.a.createElement(B,{socket:ga,name:s,avatar:m}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 col-xs-6 text-left"},r.a.createElement(pa,null)),r.a.createElement("div",{className:"col-md-6 col-xs-6 text-right pt-2"},r.a.createElement(H.a,{component:"span",variant:"caption",style:{color:"white"}},"Made with \u2764 by Ali Shadman"))))))))},ha=a(79),Oa=a(385),ya=a(15),xa=a(181),ja=a.n(xa),wa=a(180),ka=a.n(wa),Sa=(a(322),Object(y.a)((function(e){return{expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatarSelected:{backgroundColor:"rgba(0, 0, 0, 0.08) !important"}}}))),Ta=function(e){var t=e.onAvtClick,a=Sa(),o=Object(n.useState)(!1),c=Object(p.a)(o,2),s=c[0],i=c[1],l=Object(n.useState)([0,12]),u=Object(p.a)(l,2),m=u[0],f=(u[1],Object(n.useState)(0)),b=Object(p.a)(f,2),g=b[0],E=b[1],v=function(e,t){return 0===e?g===t:1===e?g===t+12:2===e?g===t+24:void 0};return r.a.createElement(W.a,null,r.a.createElement(Tt.a,{className:Object(Rt.a)(a.expand,Object(d.a)({},a.expandOpen,s)),onClick:function(){i(!s)},"aria-expanded":s,"aria-label":"show more"},r.a.createElement(ja.a,null)),r.a.createElement(J.a,{in:s,timeout:"auto",unmountOnExit:!0},r.a.createElement(ka.a,null,function(){var e=Array(pt.length/12).fill(0),n=Object(ya.a)(m);return e.map((function(e,o){return 0!==o&&(n[0]+=12,n[1]+=12),r.a.createElement(h.a,{container:!0,className:"mb-2 pl-2 pr-2 mt-2",key:o},pt.slice(n[0],n[1]).map((function(e,n){return r.a.createElement(h.a,{md:2,item:!0,key:n,className:"d-inline-flex  justify-content-center"},r.a.createElement(Tt.a,{onClick:function(e){var a,r;e.preventDefault(),r=n,0===(a=o)&&(E(r),t(r)),1===a&&(E(r+12),t(r+12)),2===a&&(E(r+24),t(r+24))},disabled:v(o,n),className:v(o,n)?a.avatarSelected:""},r.a.createElement(Y.a,{src:e})))})))}))}())))},Ca=Object(O.a)({root:{"& label.Mui-focused":{color:"black"},"& .MuiInput-underline:after":{borderBottomColor:"#B0B2B5"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"red"},"&:hover fieldset":{borderColor:"#76787D"},"&.Mui-focused fieldset":{borderColor:"#76787D"}}}})(w.a),Na=Object(y.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},margin:{margin:e.spacing(1)}}})),Ma=function(){var e=Na(),t=Object(n.useState)(""),a=Object(p.a)(t,2),o=a[0],c=a[1],s=Object(n.useState)(0),i=Object(p.a)(s,2),l=i[0],u=i[1];return r.a.createElement(v.a,{maxWidth:"sm",className:"d-flex flex-column justify-content-center vh-100"},r.a.createElement(W.a,Object.assign({borderRadius:16},{borderColor:"#B0B2B5",m:5,border:3},{style:{backgroundColor:"#76787D"}}),r.a.createElement(W.a,{className:"text-center"},r.a.createElement(H.a,{variant:"h1"},"Join")),r.a.createElement(Oa.a,{variant:"middle"}),r.a.createElement(W.a,{className:"text-center"},r.a.createElement(Ca,{className:e.margin,id:"custom-css-standard-input",label:"Username",value:o,onChange:function(e){c(e.target.value)}})),r.a.createElement(W.a,{className:"text-center pt-2"},r.a.createElement(Ta,{onAvtClick:function(e){u(e)}})),r.a.createElement(W.a,{className:"text-center pt-2 pb-2"},r.a.createElement(ha.b,{onClick:function(e){return o?null:e.preventDefault()},to:"/chat?name=".concat(o,"&avatar=").concat(l)},r.a.createElement(x.a,{variant:"contained",color:"primary"},"Go")))))},Da=a(44),Pa=a(42),_a=a(183);function La(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ia(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?La(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):La(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ra={items:[],item:[],searchedResults:[]};function Ga(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Aa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ga(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ga(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ba={items:[],item:[]};function Ua(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Wa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ua(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ua(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var za={item:"main"};function Fa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ha(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Fa(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Fa(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Xa={item:" is typing.."},Ya=Object(Pa.c)({messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POST_MESSAGE":return Ia({},e,{items:[].concat(Object(ya.a)(e.items),[t.payload])});case"GET_MESSAGES":var a=Object(ya.a)(e.items),n=Object(ya.a)(t.payload);return a[0]&&a[0].length<1&&n.push(a[0]),Ia({},e,{items:a[0]?n:t.payload});case"DELETE_MESSAGE":var r=Object(ya.a)(e.items);return console.log(r.filter((function(e){return e._id!==t.id}))),Ia({},e,{items:r.filter((function(e){return e._id!==t.id}))});case"EDIT_MESSAGE":var o=Object(ya.a)(e.items),c=o.find((function(e){return e._id===t.id}));c.message=t.message;var s=o.findIndex((function(e){return e._id===t.id}));return o.splice(s,1,c),Ia({},e,{items:o});case"SEARCH_MESSAGE":return Ia({},e,{searchedResults:t.payload});default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ba,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USER":return Aa({},e,{items:[].concat(Object(ya.a)(e.items),[t.payload])});case"SET_USERS":return Aa({},e,{items:t.payload});default:return e}},room:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:za,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ROOM":return Wa({},e,{item:t.payload});default:return e}},userTyping:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_TYPING":return Ha({},e,{item:t.payload});default:return e}}}),Ja=(a(324),[_a.a]),Ka=Object(Pa.e)(Ya,{},Object(Pa.d)(Pa.a.apply(void 0,Ja),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),Va=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(T.a,{store:Ka},r.a.createElement(ha.a,null,r.a.createElement(Da.a,{path:"/",exact:!0,component:Ma}),r.a.createElement(Da.a,{path:"/chat",component:va})))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(Va,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[200,1,2]]]);
//# sourceMappingURL=main.5c8ec346.chunk.js.map