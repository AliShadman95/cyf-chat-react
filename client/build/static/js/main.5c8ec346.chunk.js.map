{"version":3,"sources":["Media/701987-avatar/svg/001-man-13.svg","Media/701987-avatar/svg/002-woman-14.svg","Media/701987-avatar/svg/003-woman-13.svg","Media/701987-avatar/svg/004-woman-12.svg","Media/701987-avatar/svg/005-woman-11.svg","Media/701987-avatar/svg/006-woman-10.svg","Media/701987-avatar/svg/007-woman-9.svg","Media/701987-avatar/svg/008-woman-8.svg","Media/701987-avatar/svg/009-woman-7.svg","Media/701987-avatar/svg/010-woman-6.svg","Media/701987-avatar/svg/011-woman-5.svg","Media/701987-avatar/svg/012-woman-4.svg","Media/701987-avatar/svg/013-woman-3.svg","Media/701987-avatar/svg/014-man-12.svg","Media/701987-avatar/svg/015-man-11.svg","Media/701987-avatar/svg/016-man-10.svg","Media/701987-avatar/svg/017-man-9.svg","Media/701987-avatar/svg/018-man-8.svg","Media/701987-avatar/svg/019-man-7.svg","Media/701987-avatar/svg/020-man-6.svg","Media/701987-avatar/svg/021-man-5.svg","Media/701987-avatar/svg/022-man-4.svg","Media/701987-avatar/svg/023-man-3.svg","Media/701987-avatar/svg/024-man-2.svg","Media/701987-avatar/svg/025-man-1.svg","Media/701987-avatar/svg/026-man.svg","Media/701987-avatar/svg/027-boy-6.svg","Media/701987-avatar/svg/028-boy-5.svg","Media/701987-avatar/svg/029-boy-4.svg","Media/701987-avatar/svg/030-boy-3.svg","Media/701987-avatar/svg/031-boy-2.svg","Media/701987-avatar/svg/032-boy-1.svg","Media/701987-avatar/svg/033-boy.svg","Media/701987-avatar/svg/034-woman-2.svg","Media/701987-avatar/svg/035-woman-1.svg","Media/701987-avatar/svg/036-woman.svg","actions/messagesActions.js","actions/types.js","actions/userTypingActions.js","components/Form.jsx","helpers/Images.js","components/Room.jsx","actions/usersActions.js","components/Rooms.jsx","actions/roomActions.js","components/EditMessage.jsx","components/Message.jsx","components/Messages.jsx","components/Search.jsx","components/Header.jsx","components/IsTyping.jsx","components/FetchChips.jsx","components/Chat.jsx","components/SelectAvatar.jsx","components/Join.jsx","reducers/messagesReducer.js","reducers/usersReducer.js","reducers/roomReducer.js","reducers/userTypingReducer.js","reducers/index.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","getMessages","room","dispatch","a","console","log","axios","get","response","type","payload","data","deleteMessage","id","delete","editMessage","message","put","setUserTyping","user","CssTextField","withStyles","root","color","borderBottomColor","borderColor","TextField","useStyles","makeStyles","theme","display","flexWrap","margin","alignselfcenter","alignSelf","button","boxShadow","connect","state","userTyping","item","postMessage","post","socket","name","avatar","classes","useTheme","matches","useMediaQuery","breakpoints","down","useState","inputValue","setInputValue","isTyping","setIsTyping","useEffect","on","userTyp","reg","match","string","concat","typingstopped","emit","error","sendMessage","ev","preventDefault","Grid","container","md","xl","xs","className","fullWidth","value","onChange","time","target","setTimeout","clearTimeout","onInputChange","onKeyPress","key","Button","variant","endIcon","Icon","size","onClick","Avatar1","Avatar2","Avatar3","Avatar4","Avatar5","Avatar6","Avatar7","Avatar8","Avatar9","Avatar10","Avatar11","Avatar12","Avatar13","Avatar14","Avatar15","Avatar16","Avatar17","Avatar18","Avatar19","Avatar20","Avatar21","Avatar22","Avatar23","Avatar24","Avatar25","Avatar26","Avatar27","Avatar28","Avatar29","Avatar30","Avatar31","Avatar32","Avatar33","Avatar34","Avatar35","Avatar36","width","maxWidth","backgroundColor","palette","background","paper","roomsXS","justifyContent","avatarMini","height","avatarListMini","minWidth","paddingLeft","dots","paddingTop","Room","roomName","users","index","currentRoom","selectedIndex","handleListItemClick","React","open","setOpen","Fragment","ListItem","selected","event","toLowerCase","onRoomClick","Box","ListItemText","map","i","Typography","component","ListItemAvatar","Avatar","src","images","Collapse","in","timeout","unmountOnExit","List","dense","primary","setUsers","overflow","messageBox","alignItems","items","setRoom","setSelectedIndex","rooms","setRooms","prevRoom","ref","useRef","current","usePrevious","ROOMS","off","changeRoom","ROOM","StyledMenu","border","props","Menu","elevation","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","StyledMenuItem","grey","common","white","MenuItem","onEdit","anchorEl","setAnchorEl","IconButton","currentTarget","path","mdiMenu","title","keepMounted","Boolean","onClose","e","onDelete","ListItemIcon","whiteText","date","fontSize","menuRight","textAlign","calendarStrings","lastDay","sameDay","nextDay","lastWeek","nextWeek","sameElse","isEditing","setIsEditing","editedMessage","setEditedMessage","handleDialogClose","sendEditMessage","calendar","secondary","Dialog","aria-labelledby","DialogTitle","DialogContent","DialogContentText","autoFocus","handleChange","DialogActions","handleDialogConfirm","messages","setMessage","_id","flexGrow","up","search","position","borderRadius","shape","fade","marginLeft","spacing","searchIcon","pointerEvents","inputRoot","inputInput","padding","transition","transitions","create","expand","expandOpen","main","GreenRadio","green","checked","Radio","searchedResults","searchMessage","str","selectedCollapse","setSelectedCollapse","selectedRadio","setSelectedRadio","searchValue","setSearchValue","handleClick","InputBase","placeholder","input","inputProps","FormControl","RadioGroup","aria-label","row","FormControlLabel","control","label","labelPlacement","clsx","aria-expanded","Header","searchMessages","searchMessagesResult","AppBar","style","Toolbar","noWrap","getLatestMessages","reverse","Chip","mdiReload","ENDPOINT","io","chipsXS","roomHeightBreak","between","paddingRight","only","messageHeightBreak","Chat","location","setName","setAvatar","queryString","parse","Container","sm","transform","duration","shortest","avatarSelected","SelectAvatar","onAvtClick","expanded","setExpanded","avatarIndexs","selectedAvatar","setSelectedAvatar","disableAvatar","firstIndex","secondIndex","dividedArr","Array","length","fill","copyAvatarIndexs","slice","img","ind","disabled","CarouselBehaviour","Join","username","setUsername","m","Divider","avt","to","initialState","combineReducers","action","copyArr","copyAction","push","newArray","filter","copyMess","editedMess","find","editedMessIndex","findIndex","splice","middleware","thunk","store","createStore","rootReducer","compose","applyMiddleware","window","__REDUX_DEVTOOLS_EXTENSION__","App","exact","Component","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.5c8ec346.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/001-man-13.15712c0a.svg\";","module.exports = __webpack_public_path__ + \"static/media/002-woman-14.2414c095.svg\";","module.exports = __webpack_public_path__ + \"static/media/003-woman-13.0edc384b.svg\";","module.exports = __webpack_public_path__ + \"static/media/004-woman-12.4cc23eec.svg\";","module.exports = __webpack_public_path__ + \"static/media/005-woman-11.4b92798f.svg\";","module.exports = __webpack_public_path__ + \"static/media/006-woman-10.34ec441d.svg\";","module.exports = __webpack_public_path__ + \"static/media/007-woman-9.bfbe8a5a.svg\";","module.exports = __webpack_public_path__ + \"static/media/008-woman-8.359a04b3.svg\";","module.exports = __webpack_public_path__ + \"static/media/009-woman-7.097950b2.svg\";","module.exports = __webpack_public_path__ + \"static/media/010-woman-6.56caf7d3.svg\";","module.exports = __webpack_public_path__ + \"static/media/011-woman-5.2c13d4c4.svg\";","module.exports = __webpack_public_path__ + \"static/media/012-woman-4.10dedf9a.svg\";","module.exports = __webpack_public_path__ + \"static/media/013-woman-3.ccd33987.svg\";","module.exports = __webpack_public_path__ + \"static/media/014-man-12.647a2b5b.svg\";","module.exports = __webpack_public_path__ + \"static/media/015-man-11.4c2513c3.svg\";","module.exports = __webpack_public_path__ + \"static/media/016-man-10.b131a5ec.svg\";","module.exports = __webpack_public_path__ + \"static/media/017-man-9.dfcb8c75.svg\";","module.exports = __webpack_public_path__ + \"static/media/018-man-8.46ed9461.svg\";","module.exports = __webpack_public_path__ + \"static/media/019-man-7.24286cc5.svg\";","module.exports = __webpack_public_path__ + \"static/media/020-man-6.378c61cb.svg\";","module.exports = __webpack_public_path__ + \"static/media/021-man-5.1eb5a28c.svg\";","module.exports = __webpack_public_path__ + \"static/media/022-man-4.67595189.svg\";","module.exports = __webpack_public_path__ + \"static/media/023-man-3.0ce7816a.svg\";","module.exports = __webpack_public_path__ + \"static/media/024-man-2.c46d8f7a.svg\";","module.exports = __webpack_public_path__ + \"static/media/025-man-1.351777d4.svg\";","module.exports = __webpack_public_path__ + \"static/media/026-man.084ac449.svg\";","module.exports = __webpack_public_path__ + \"static/media/027-boy-6.2ecb076c.svg\";","module.exports = __webpack_public_path__ + \"static/media/028-boy-5.a7bd0a9c.svg\";","module.exports = __webpack_public_path__ + \"static/media/029-boy-4.3fd0abf1.svg\";","module.exports = __webpack_public_path__ + \"static/media/030-boy-3.ed96e16c.svg\";","module.exports = __webpack_public_path__ + \"static/media/031-boy-2.c5427690.svg\";","module.exports = __webpack_public_path__ + \"static/media/032-boy-1.a7a70bc1.svg\";","module.exports = __webpack_public_path__ + \"static/media/033-boy.4ff5460a.svg\";","module.exports = __webpack_public_path__ + \"static/media/034-woman-2.94893de5.svg\";","module.exports = __webpack_public_path__ + \"static/media/035-woman-1.5d0ce5ae.svg\";","module.exports = __webpack_public_path__ + \"static/media/036-woman.c49d22fe.svg\";","import {\r\n  GET_MESSAGES,\r\n  POST_MESSAGE,\r\n  DELETE_MESSAGE,\r\n  EDIT_MESSAGE,\r\n  SEARCH_MESSAGE\r\n} from \"./types\";\r\nimport axios from \"axios\";\r\n\r\nexport const getMessages = room => async dispatch => {\r\n  console.log(\"about to fetch\");\r\n  const response = await axios.get(\r\n    `https://chat-by-as.herokuapp.com/messages/rooms/${room}`\r\n  );\r\n  dispatch({ type: GET_MESSAGES, payload: response.data });\r\n};\r\n\r\nexport const getLatestMessages = room => async dispatch => {\r\n  const response = await axios.get(\r\n    `https://chat-by-as.herokuapp.com/messages/latest/${room}`\r\n  );\r\n\r\n  dispatch({ type: GET_MESSAGES, payload: response.data.reverse() });\r\n};\r\n\r\nexport const postMessage = user => async dispatch => {\r\n  console.log(\"about to POST\");\r\n  const response = await axios.post(\r\n    `https://chat-by-as.herokuapp.com/messages`,\r\n    user\r\n  );\r\n  dispatch({ type: POST_MESSAGE, payload: response.data });\r\n};\r\n\r\nexport const emitMessage = message => async dispatch => {\r\n  console.log(\"about to EMIT\");\r\n  dispatch({ type: POST_MESSAGE, payload: message });\r\n};\r\n\r\nexport const setMessage = user => async dispatch => {\r\n  console.log(\"about to SET\");\r\n  dispatch({ type: POST_MESSAGE, payload: user });\r\n};\r\n\r\nexport const deleteMessage = id => async dispatch => {\r\n  console.log(\"about to delete\", id);\r\n\r\n  const response = await axios.delete(\r\n    `https://chat-by-as.herokuapp.com/messages/id/${id}`\r\n  );\r\n\r\n  dispatch({ type: DELETE_MESSAGE, id: id });\r\n};\r\n\r\nexport const editMessage = (id, message) => async dispatch => {\r\n  console.log(\"about to edit\");\r\n  const response = await axios.put(\r\n    `https://chat-by-as.herokuapp.com/messages/id/${id}`,\r\n    {\r\n      message\r\n    }\r\n  );\r\n\r\n  dispatch({ type: EDIT_MESSAGE, id: id, message });\r\n};\r\n\r\nexport const searchMessage = (room, value, type) => async dispatch => {\r\n  const str = type === 0 ? `${value}` : `room/${room}/${value}`;\r\n  const response = await axios.get(\r\n    `https://chat-by-as.herokuapp.com/messages/search/${str}`\r\n  );\r\n\r\n  dispatch({ type: SEARCH_MESSAGE, payload: response.data });\r\n};\r\n","export const POST_MESSAGE = \"POST_MESSAGE\";\r\nexport const GET_MESSAGES = \"GET_MESSAGES\";\r\nexport const DELETE_MESSAGE = \"DELETE_MESSAGE\";\r\nexport const EDIT_MESSAGE = \"EDIT_MESSAGE\";\r\nexport const SEARCH_MESSAGE = \"SEARCH_MESSAGE\";\r\nexport const SET_MESSAGE = \"SET_MESSAGE\";\r\nexport const ADD_USER = \"ADD_USER\";\r\nexport const SET_USERS = \"SET_USERS\";\r\nexport const SET_ROOM = \"SET_ROOM\";\r\nexport const SET_USER_TYPING = \"SET_USER_TYPING\";\r\n","import { SET_USER_TYPING } from \"./types\";\r\n\r\nexport const setUserTyping = user => dispatch => {\r\n  dispatch({ type: SET_USER_TYPING, payload: user });\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Icon from \"@material-ui/core/Icon\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\r\nimport { connect } from \"react-redux\";\r\nimport { postMessage, getMessages } from \"../actions/messagesActions\";\r\nimport { setUserTyping } from \"../actions/userTypingActions\";\r\n\r\nconst CssTextField = withStyles({\r\n  root: {\r\n    \"& label.Mui-focused\": {\r\n      color: \"black\"\r\n    },\r\n    \"& .MuiInput-underline:after\": {\r\n      borderBottomColor: \"#B0B2B5\"\r\n    },\r\n    \"& .MuiOutlinedInput-root\": {\r\n      \"& fieldset\": {\r\n        borderColor: \"red\"\r\n      },\r\n      \"&:hover fieldset\": {\r\n        borderColor: \"#76787D\"\r\n      },\r\n      \"&.Mui-focused fieldset\": {\r\n        borderColor: \"#76787D\"\r\n      }\r\n    }\r\n  }\r\n})(TextField);\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\"\r\n  },\r\n  margin: {},\r\n  alignselfcenter: { alignSelf: \"center\" },\r\n  button: { boxShadow: \"0px 6px 16px -4px rgba(0,0,0,0.56)\" }\r\n}));\r\nconst Form = ({\r\n  postMessage,\r\n  setUserTyping,\r\n  userTyping,\r\n  socket,\r\n  room,\r\n  name,\r\n  avatar\r\n}) => {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const matches = useMediaQuery(theme.breakpoints.down(\"sm\"));\r\n  const [inputValue, setInputValue] = useState(\"\");\r\n  const [isTyping, setIsTyping] = useState(false);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"IS_TYPING\", ({ name }) => {\r\n      //Concat the name of the user that is typing to \" is typing...\"\r\n      const userTyp = userTyping;\r\n      if (userTyp !== \" is typing..\" && userTyp !== `${name} is typing..`) {\r\n        const reg = userTyp.match(/\\S+/g);\r\n        const string = name.concat(` and ${reg[0]} are typing... `);\r\n        setUserTyping(string);\r\n      } else {\r\n        const string = name.concat(userTyp);\r\n        setUserTyping(string);\r\n      }\r\n    });\r\n\r\n    socket.on(\"IS_NOT_TYPING\", ({ message }) => {\r\n      setUserTyping(message);\r\n    });\r\n  }, [isTyping]);\r\n\r\n  const typingstopped = () => {\r\n    console.log(\"called typing stopped\");\r\n    setIsTyping(false);\r\n    socket.emit(\"SEND_IS_NOT_TYPING\", { room, name }, error => {\r\n      console.log(error);\r\n    });\r\n  };\r\n\r\n  const onInputChange = ev => {\r\n    setInputValue(ev.target.value);\r\n    let time;\r\n    if (isTyping === false) {\r\n      console.log(\"inside is typing\");\r\n      setIsTyping(true);\r\n      console.log(\"sending \");\r\n      socket.emit(\"SEND_IS_TYPING\", { room, name }, error => {\r\n        console.log(error);\r\n      });\r\n      time = setTimeout(typingstopped, 4000);\r\n    } else {\r\n      clearTimeout(time);\r\n      time = setTimeout(typingstopped, 4000);\r\n      clearTimeout(time);\r\n    }\r\n  };\r\n\r\n  const sendMessage = ev => {\r\n    ev.preventDefault();\r\n    //We send the message and then we set the Input State to empty string\r\n    if (inputValue) {\r\n      console.log(\"sendeding messaghe\");\r\n      socket.emit(\"SEND_MESSAGE\", inputValue, () => {\r\n        setInputValue(\"\");\r\n      });\r\n    }\r\n    let mess = { name, avatar, message: inputValue, room: \"main\" };\r\n    postMessage(mess);\r\n  };\r\n\r\n  return (\r\n    <Grid container>\r\n      <Grid item md={10} xl={10} xs={8}>\r\n        <CssTextField\r\n          className={classes.margin}\r\n          id=\"filled-full-width\"\r\n          fullWidth\r\n          margin=\"normal\"\r\n          value={inputValue}\r\n          onChange={ev => onInputChange(ev)}\r\n          onKeyPress={ev => (ev.key === \"Enter\" ? sendMessage(ev) : null)}\r\n        />\r\n      </Grid>\r\n      <Grid\r\n        item\r\n        md={2}\r\n        xl={2}\r\n        xs={4}\r\n        className={classes.alignselfcenter + \" pl-2\"}\r\n      >\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          className={classes.button}\r\n          endIcon={<Icon>send</Icon>}\r\n          size={matches ? \"small\" : \"large\"}\r\n          onClick={ev => {\r\n            sendMessage(ev);\r\n          }}\r\n        >\r\n          Send\r\n        </Button>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  userTyping: state.userTyping.item,\r\n  room: state.room.item\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { postMessage, getMessages, setUserTyping }\r\n)(Form);\r\n","import Avatar1 from \"../Media/701987-avatar/svg/001-man-13.svg\";\r\nimport Avatar2 from \"../Media/701987-avatar/svg/002-woman-14.svg\";\r\nimport Avatar3 from \"../Media/701987-avatar/svg/003-woman-13.svg\";\r\nimport Avatar4 from \"../Media/701987-avatar/svg/004-woman-12.svg\";\r\nimport Avatar5 from \"../Media/701987-avatar/svg/005-woman-11.svg\";\r\nimport Avatar6 from \"../Media/701987-avatar/svg/006-woman-10.svg\";\r\nimport Avatar7 from \"../Media/701987-avatar/svg/007-woman-9.svg\";\r\nimport Avatar8 from \"../Media/701987-avatar/svg/008-woman-8.svg\";\r\nimport Avatar9 from \"../Media/701987-avatar/svg/009-woman-7.svg\";\r\nimport Avatar10 from \"../Media/701987-avatar/svg/010-woman-6.svg\";\r\nimport Avatar11 from \"../Media/701987-avatar/svg/011-woman-5.svg\";\r\nimport Avatar12 from \"../Media/701987-avatar/svg/012-woman-4.svg\";\r\nimport Avatar13 from \"../Media/701987-avatar/svg/013-woman-3.svg\";\r\nimport Avatar14 from \"../Media/701987-avatar/svg/014-man-12.svg\";\r\nimport Avatar15 from \"../Media/701987-avatar/svg/015-man-11.svg\";\r\nimport Avatar16 from \"../Media/701987-avatar/svg/016-man-10.svg\";\r\nimport Avatar17 from \"../Media/701987-avatar/svg/017-man-9.svg\";\r\nimport Avatar18 from \"../Media/701987-avatar/svg/018-man-8.svg\";\r\nimport Avatar19 from \"../Media/701987-avatar/svg/019-man-7.svg\";\r\nimport Avatar20 from \"../Media/701987-avatar/svg/020-man-6.svg\";\r\nimport Avatar21 from \"../Media/701987-avatar/svg/021-man-5.svg\";\r\nimport Avatar22 from \"../Media/701987-avatar/svg/022-man-4.svg\";\r\nimport Avatar23 from \"../Media/701987-avatar/svg/023-man-3.svg\";\r\nimport Avatar24 from \"../Media/701987-avatar/svg/024-man-2.svg\";\r\nimport Avatar25 from \"../Media/701987-avatar/svg/025-man-1.svg\";\r\nimport Avatar26 from \"../Media/701987-avatar/svg/026-man.svg\";\r\nimport Avatar27 from \"../Media/701987-avatar/svg/027-boy-6.svg\";\r\nimport Avatar28 from \"../Media/701987-avatar/svg/028-boy-5.svg\";\r\nimport Avatar29 from \"../Media/701987-avatar/svg/029-boy-4.svg\";\r\nimport Avatar30 from \"../Media/701987-avatar/svg/030-boy-3.svg\";\r\nimport Avatar31 from \"../Media/701987-avatar/svg/031-boy-2.svg\";\r\nimport Avatar32 from \"../Media/701987-avatar/svg/032-boy-1.svg\";\r\nimport Avatar33 from \"../Media/701987-avatar/svg/033-boy.svg\";\r\nimport Avatar34 from \"../Media/701987-avatar/svg/034-woman-2.svg\";\r\nimport Avatar35 from \"../Media/701987-avatar/svg/035-woman-1.svg\";\r\nimport Avatar36 from \"../Media/701987-avatar/svg/036-woman.svg\";\r\n\r\nexport default [\r\n  Avatar1,\r\n  Avatar2,\r\n  Avatar3,\r\n  Avatar4,\r\n  Avatar5,\r\n  Avatar6,\r\n  Avatar7,\r\n  Avatar8,\r\n  Avatar9,\r\n  Avatar10,\r\n  Avatar11,\r\n  Avatar12,\r\n  Avatar13,\r\n  Avatar14,\r\n  Avatar15,\r\n  Avatar16,\r\n  Avatar17,\r\n  Avatar18,\r\n  Avatar19,\r\n  Avatar20,\r\n  Avatar21,\r\n  Avatar22,\r\n  Avatar23,\r\n  Avatar24,\r\n  Avatar25,\r\n  Avatar26,\r\n  Avatar27,\r\n  Avatar28,\r\n  Avatar29,\r\n  Avatar30,\r\n  Avatar31,\r\n  Avatar32,\r\n  Avatar33,\r\n  Avatar34,\r\n  Avatar35,\r\n  Avatar36\r\n];\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport {\r\n  Box,\r\n  Avatar,\r\n  List,\r\n  Typography,\r\n  Collapse,\r\n  ListItem,\r\n  ListItemAvatar,\r\n  ListItemText\r\n} from \"@material-ui/core\";\r\nimport images from \"../helpers/Images\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: \"100%\",\r\n    maxWidth: 360,\r\n    backgroundColor: theme.palette.background.paper\r\n  },\r\n  roomsXS: {\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      justifyContent: \"center\"\r\n    }\r\n  },\r\n  avatarMini: {\r\n    width: \"18px\",\r\n    height: \"18px\"\r\n  },\r\n  avatarListMini: {\r\n    minWidth: \"0px\",\r\n    paddingLeft: \"4%\"\r\n  },\r\n  dots: {\r\n    color: \"white !important\",\r\n    paddingLeft: \"2%\",\r\n    paddingTop: \"4%\"\r\n  }\r\n}));\r\n\r\nconst Room = ({\r\n  roomName,\r\n  users,\r\n  index,\r\n  currentRoom,\r\n  selectedIndex,\r\n  handleListItemClick\r\n}) => {\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleClick = () => {\r\n    setOpen(!open);\r\n  };\r\n\r\n  const onRoomClick = (event, index) => {\r\n    if (roomName.toLowerCase() === currentRoom.toLowerCase()) {\r\n      setOpen(!open);\r\n    }\r\n    handleListItemClick(event, index);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <ListItem\r\n        button\r\n        className={classes.roomsXS}\r\n        selected={selectedIndex === index}\r\n        onClick={event => onRoomClick(event, index)}\r\n      >\r\n        <Box>\r\n          <ListItemText>{roomName}</ListItemText>\r\n        </Box>\r\n        {roomName.toLowerCase() === currentRoom.toLowerCase() &&\r\n          users.map(({ avatar, room }, i) => {\r\n            if (i > 4) {\r\n              return (\r\n                room.toLowerCase() === currentRoom.toLowerCase() && (\r\n                  <Typography\r\n                    component=\"span\"\r\n                    variant=\"caption\"\r\n                    className={classes.dots}\r\n                  >\r\n                    ...\r\n                  </Typography>\r\n                )\r\n              );\r\n            }\r\n\r\n            return (\r\n              room.toLowerCase() === currentRoom.toLowerCase() && (\r\n                <ListItemAvatar key={i} className={classes.avatarListMini}>\r\n                  <Avatar className={classes.avatarMini} src={images[avatar]} />\r\n                </ListItemAvatar>\r\n              )\r\n            );\r\n          })}\r\n      </ListItem>\r\n      <Collapse\r\n        in={selectedIndex === index && open}\r\n        timeout=\"auto\"\r\n        unmountOnExit\r\n      >\r\n        <List dense>\r\n          {users.map(({ avatar, name }, i) => {\r\n            return (\r\n              <ListItem key={i}>\r\n                <ListItemAvatar>\r\n                  <Avatar src={images[avatar]} />\r\n                </ListItemAvatar>\r\n                <ListItemText primary={name} />\r\n              </ListItem>\r\n            );\r\n          })}\r\n        </List>\r\n      </Collapse>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Room;\r\n","import { ADD_USER, SET_USERS } from \"./types\";\r\nimport axios from \"axios\";\r\n\r\nexport const addUser = room => async dispatch => {};\r\n\r\nexport const setUsers = user => dispatch => {\r\n  dispatch({ type: SET_USERS, payload: user });\r\n};\r\n","import React, { useEffect, useState, useRef } from \"react\";\r\nimport { List, Box } from \"@material-ui/core\";\r\nimport Room from \"./Room\";\r\nimport ScrollToBottom from \"react-scroll-to-bottom\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { setUsers } from \"../actions/usersActions\";\r\nimport { getMessages } from \"../actions/messagesActions\";\r\nimport { setRoom } from \"../actions/roomActions\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst usePrevious = value => {\r\n  const ref = useRef();\r\n  useEffect(() => {\r\n    ref.current = value;\r\n  });\r\n  return ref.current;\r\n};\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    backgroundColor: \"#404346\",\r\n    boxShadow: \"0px 6px 16px -4px rgba(0,0,0,0.56)\",\r\n    color: \"white\",\r\n    overflow: \"auto\",\r\n    height: \"100%\"\r\n  },\r\n  room: {\r\n    backgroundColor: \"#404346\"\r\n  },\r\n  messageBox: { alignItems: \"flex-end\" }\r\n});\r\n\r\nconst Rooms = ({ socket, room, setRoom, setUsers, getMessages, users }) => {\r\n  const classes = useStyles();\r\n  const [selectedIndex, setSelectedIndex] = React.useState(0);\r\n  const [rooms, setRooms] = useState([]);\r\n\r\n  const prevRoom = usePrevious(room);\r\n\r\n  const ROOMS = [\"Main\", \"Chill\", \"Evening\", \"Room1\", \"Room2\", \"Room3\"];\r\n\r\n  useEffect(() => {\r\n    //We will not run this Effect on mount\r\n    if (!prevRoom) setRooms(ROOMS);\r\n    if (room === prevRoom || !prevRoom) return;\r\n\r\n    // Emmiting change room to server\r\n    socket.emit(\"CHANGE_ROOM\", { room }, error => {\r\n      console.log(error);\r\n    });\r\n    // Getting room data from server\r\n    socket.on(\"roomData\", ({ users }) => {\r\n      setUsers(users);\r\n    });\r\n\r\n    return () => {\r\n      socket.emit(\"disconnect\");\r\n\r\n      socket.off();\r\n    };\r\n  }, [room]);\r\n\r\n  const changeRoom = async Room => {\r\n    // Return if click on the same room\r\n    if (room === Room) {\r\n      return;\r\n    }\r\n\r\n    getMessages(Room);\r\n    setRoom(Room);\r\n  };\r\n\r\n  const handleListItemClick = (event, index) => {\r\n    event.preventDefault();\r\n    changeRoom(rooms[index].toLowerCase());\r\n    setSelectedIndex(index);\r\n  };\r\n\r\n  console.log(room);\r\n  return (\r\n    <ScrollToBottom className={classes.root}>\r\n      <List className={classes.room}>\r\n        {ROOMS.map((ROOM, i) => {\r\n          return (\r\n            <Box key={i}>\r\n              <Room\r\n                roomName={ROOM}\r\n                index={i}\r\n                users={users}\r\n                currentRoom={room}\r\n                selectedIndex={selectedIndex}\r\n                handleListItemClick={handleListItemClick}\r\n              />\r\n            </Box>\r\n          );\r\n        })}\r\n      </List>\r\n    </ScrollToBottom>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  users: state.users.items,\r\n  room: state.room.item\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { setUsers, getMessages, setRoom }\r\n)(Rooms);\r\n","import { SET_ROOM } from \"./types\";\r\nimport axios from \"axios\";\r\n\r\nexport const setRoom = room => dispatch => {\r\n  dispatch({ type: SET_ROOM, payload: room });\r\n};\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  Box,\r\n  ListItemText,\r\n  IconButton,\r\n  Typography,\r\n  Menu,\r\n  MenuItem,\r\n  ListItemIcon\r\n} from \"@material-ui/core\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport { mdiMenu } from \"@mdi/js\";\r\nimport Icon from \"@mdi/react\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport clsx from \"clsx\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { connect } from \"react-redux\";\r\nimport { deleteMessage } from \"../actions/messagesActions\";\r\n\r\nconst StyledMenu = withStyles({\r\n  paper: {\r\n    border: \"1px solid #d3d4d5\"\r\n  }\r\n})(props => (\r\n  <Menu\r\n    elevation={0}\r\n    getContentAnchorEl={null}\r\n    anchorOrigin={{\r\n      vertical: \"bottom\",\r\n      horizontal: \"left\"\r\n    }}\r\n    transformOrigin={{\r\n      vertical: \"top\",\r\n      horizontal: \"left\"\r\n    }}\r\n    {...props}\r\n  />\r\n));\r\n\r\nconst StyledMenuItem = withStyles(theme => ({\r\n  root: {\r\n    \"&:hover\": {\r\n      backgroundColor: theme.palette.grey,\r\n      \"& .MuiListItemIcon-root, & .MuiListItemText-primary\": {\r\n        color: theme.palette.common.white\r\n      }\r\n    }\r\n  }\r\n}))(MenuItem);\r\n\r\nconst EditMessage = ({ deleteMessage, onEdit, id, room, socket }) => {\r\n  const [expanded, setExpanded] = useState(false);\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n  const handleClick = event => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const onDelete = id => {\r\n    deleteMessage(id);\r\n    socket.emit(\"DELETE\", { room, id }, () => {});\r\n  };\r\n\r\n  return (\r\n    <Box>\r\n      <IconButton onClick={handleClick}>\r\n        <Icon path={mdiMenu} title=\"Menu\" size={1} color=\"white\" />\r\n      </IconButton>\r\n      <StyledMenu\r\n        id=\"customized-menu\"\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        open={Boolean(anchorEl)}\r\n        onClose={handleClose}\r\n      >\r\n        <StyledMenuItem\r\n          onClick={e => {\r\n            e.preventDefault();\r\n            onDelete(id);\r\n          }}\r\n        >\r\n          <ListItemIcon>\r\n            <DeleteIcon color=\"secondary\" />\r\n          </ListItemIcon>\r\n          <ListItemText\r\n            primary={\r\n              <Typography component=\"span\" className=\"pl-3\" variant=\"body2\">\r\n                Delete\r\n              </Typography>\r\n            }\r\n          />\r\n        </StyledMenuItem>\r\n        <StyledMenuItem\r\n          onClick={e => {\r\n            e.preventDefault();\r\n            onEdit(id);\r\n          }}\r\n        >\r\n          <ListItemIcon>\r\n            <EditIcon color=\"primary\" />\r\n          </ListItemIcon>\r\n          <ListItemText\r\n            primary={\r\n              <Typography component=\"span\" className=\"pl-3\" variant=\"body2\">\r\n                Edit\r\n              </Typography>\r\n            }\r\n          />\r\n        </StyledMenuItem>\r\n      </StyledMenu>\r\n    </Box>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({ room: state.room.item });\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { deleteMessage }\r\n)(EditMessage);\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  Avatar,\r\n  Box,\r\n  ListItem,\r\n  ListItemAvatar,\r\n  ListItemText,\r\n  Typography,\r\n  TextField,\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogContentText,\r\n  DialogTitle\r\n} from \"@material-ui/core\";\r\nimport EditMessage from \"../components/EditMessage\";\r\nimport images from \"../helpers/Images\";\r\nimport Moment from \"react-moment\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Twemoji } from \"react-emoji-render\";\r\nimport { connect } from \"react-redux\";\r\nimport { editMessage } from \"../actions/messagesActions\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  whiteText: {\r\n    color: \"white !important\"\r\n  },\r\n  date: {\r\n    color: \"grey !important\",\r\n    fontSize: 12 + \"px !important\"\r\n  },\r\n  menuRight: {\r\n    textAlign: \"right\"\r\n  }\r\n}));\r\n\r\nconst calendarStrings = {\r\n  lastDay: \"[Yesterday at] LT\",\r\n  sameDay: \"[Today at] LT\",\r\n  nextDay: \"[Tomorrow at] LT\",\r\n  lastWeek: \"[last] dddd [at] LT\",\r\n  nextWeek: \"dddd [at] LT\",\r\n  sameElse: \"L\"\r\n};\r\n\r\nconst Message = ({\r\n  message,\r\n  name,\r\n  date,\r\n  avatar,\r\n  editMessage,\r\n  id,\r\n  room,\r\n  socket\r\n}) => {\r\n  const classes = useStyles();\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [editedMessage, setEditedMessage] = useState(message);\r\n\r\n  const handleDialogClose = () => {\r\n    setIsEditing(!isEditing);\r\n  };\r\n  const handleDialogConfirm = e => {\r\n    setIsEditing(!isEditing);\r\n    sendEditMessage(e);\r\n  };\r\n\r\n  const handleChange = e => {\r\n    e.preventDefault();\r\n    setEditedMessage(e.target.value);\r\n  };\r\n\r\n  const onEdit = e => {\r\n    setIsEditing(true);\r\n  };\r\n\r\n  const sendEditMessage = e => {\r\n    e.preventDefault();\r\n    editMessage(id, editedMessage);\r\n    setIsEditing(false);\r\n    socket.emit(\"EDIT\", { room, id }, () => {});\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <ListItem alignItems=\"flex-start\">\r\n        <ListItemAvatar>\r\n          <Avatar src={images[avatar]} />\r\n        </ListItemAvatar>\r\n\r\n        <ListItemText\r\n          primary={\r\n            <React.Fragment>\r\n              <Typography>\r\n                {name + \"  \"}\r\n                <Moment calendar={calendarStrings} className={classes.date}>\r\n                  {date}\r\n                </Moment>\r\n              </Typography>\r\n            </React.Fragment>\r\n          }\r\n          secondary={\r\n            <React.Fragment>\r\n              {!isEditing && (\r\n                <Typography\r\n                  component=\"span\"\r\n                  variant=\"body2\"\r\n                  className={classes.whiteText}\r\n                >\r\n                  {message}\r\n                  {/* <Twemoji svg text={message} /> */}\r\n                </Typography>\r\n              )}\r\n            </React.Fragment>\r\n          }\r\n        />\r\n        {isEditing && (\r\n          <Dialog\r\n            open\r\n            onClose={handleDialogClose}\r\n            aria-labelledby=\"form-dialog-title\"\r\n          >\r\n            <DialogTitle id=\"form-dialog-title\">Edit</DialogTitle>\r\n            <DialogContent>\r\n              <DialogContentText>Edit the message..</DialogContentText>\r\n\r\n              <TextField\r\n                id=\"standard-name\"\r\n                autoFocus\r\n                value={editedMessage}\r\n                onChange={e => handleChange(e)}\r\n                margin=\"normal\"\r\n                fullWidth\r\n                onKeyPress={ev =>\r\n                  ev.key === \"Enter\" ? sendEditMessage(ev) : null\r\n                }\r\n              />\r\n            </DialogContent>\r\n            <DialogActions>\r\n              <Button onClick={handleDialogClose} color=\"secondary\">\r\n                Cancel\r\n              </Button>\r\n              <Button\r\n                onClick={e => {\r\n                  handleDialogConfirm(e);\r\n                }}\r\n                color=\"primary\"\r\n              >\r\n                Edit\r\n              </Button>\r\n            </DialogActions>\r\n          </Dialog>\r\n        )}\r\n\r\n        {name !== \"Admin\" && (\r\n          <Box className={classes.menuRight}>\r\n            <EditMessage onEdit={onEdit} id={id} socket={socket} />\r\n          </Box>\r\n        )}\r\n      </ListItem>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({ room: state.room.item });\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { editMessage }\r\n)(Message);\r\n","import React, { useEffect } from \"react\";\r\nimport { Box, List } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Message from \"./Message\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  getMessages,\r\n  setMessage,\r\n  editMessage,\r\n  deleteMessage\r\n} from \"../actions/messagesActions\";\r\nimport { setUsers } from \"../actions/usersActions\";\r\nimport { setUserTyping } from \"../actions/userTypingActions\";\r\n\r\nimport ScrollToBottom from \"react-scroll-to-bottom\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    backgroundColor: \"#404346\",\r\n    boxShadow: \"0px 6px 16px -4px rgba(0,0,0,0.56)\",\r\n    color: \"white\",\r\n    overflow: \"auto\",\r\n    height: \"100%\"\r\n  },\r\n  messageBox: { alignItems: \"flex-end\" }\r\n});\r\n\r\nconst Messages = ({\r\n  socket,\r\n  messages,\r\n  setUsers,\r\n  setMessage,\r\n  deleteMessage,\r\n  editMessage,\r\n  getMessages,\r\n  setUserTyping,\r\n  room,\r\n  name\r\n}) => {\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    getMessages(\"main\");\r\n  }, [getMessages]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"called message effect\");\r\n    //When we get messages from server\r\n    socket.on(\"message\", message => {\r\n      console.log(message, \"GOT THIS\");\r\n      switch (message.type) {\r\n        case \"MESSAGE\":\r\n          if (message.name !== name) setMessage(message);\r\n          break;\r\n        case \"LEFT\":\r\n          setUserTyping(\" is typing..\");\r\n          break;\r\n        case \"DELETE\":\r\n          console.log(\"about to set the timeout\");\r\n          setTimeout(() => getMessages(room), 2000);\r\n          break;\r\n        case \"EDIT\":\r\n          setTimeout(() => getMessages(room), 2000);\r\n          break;\r\n        default:\r\n          setMessage(message);\r\n          break;\r\n      }\r\n    });\r\n    //We get the room data with users logged in\r\n    socket.on(\"roomData\", ({ users }) => {\r\n      setUsers(users);\r\n    });\r\n\r\n    return () => {\r\n      socket.emit(\"disconnect\");\r\n      socket.off();\r\n    };\r\n  }, [messages]);\r\n\r\n  return (\r\n    <ScrollToBottom className={classes.root}>\r\n      <List>\r\n        {messages.map((message, i) => {\r\n          return (\r\n            <Box\r\n              key={message._id ? message._id : i}\r\n              className={classes.messageBox}\r\n            >\r\n              <Message\r\n                message={message.message}\r\n                avatar={message.avatar}\r\n                name={message.name}\r\n                date={message.date}\r\n                id={message._id}\r\n                socket={socket}\r\n              />\r\n            </Box>\r\n          );\r\n        })}\r\n      </List>\r\n    </ScrollToBottom>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  messages: state.messages.items,\r\n  room: state.room.item\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  {\r\n    getMessages,\r\n    setMessage,\r\n    setUsers,\r\n    editMessage,\r\n    deleteMessage,\r\n    setUserTyping\r\n  }\r\n)(Messages);\r\n","import React from \"react\";\r\nimport {\r\n  Avatar,\r\n  Box,\r\n  ListItemAvatar,\r\n  ListItemText,\r\n  IconButton,\r\n  Typography,\r\n  Collapse,\r\n  Radio,\r\n  InputBase,\r\n  RadioGroup,\r\n  FormControlLabel,\r\n  FormControl,\r\n  Menu,\r\n  MenuItem\r\n} from \"@material-ui/core\";\r\nimport { fade, makeStyles, withStyles } from \"@material-ui/core/styles\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport images from \"../helpers/Images\";\r\nimport Moment from \"react-moment\";\r\nimport clsx from \"clsx\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport { connect } from \"react-redux\";\r\nimport { searchMessage } from \"../actions/messagesActions\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1\r\n  },\r\n\r\n  title: {\r\n    flexGrow: 1,\r\n    display: \"none\",\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      display: \"block\"\r\n    }\r\n  },\r\n  search: {\r\n    position: \"relative\",\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: fade(theme.palette.common.white, 0.9),\r\n    \"&:hover\": {\r\n      backgroundColor: fade(theme.palette.common.white, 0.9)\r\n    },\r\n    marginLeft: 0,\r\n    width: \"100%\",\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      marginLeft: theme.spacing(1),\r\n      width: \"auto\"\r\n    }\r\n  },\r\n  searchIcon: {\r\n    width: theme.spacing(7),\r\n    height: \"100%\",\r\n    position: \"absolute\",\r\n    pointerEvents: \"none\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\"\r\n  },\r\n  inputRoot: {\r\n    color: \"black\"\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 7),\r\n    transition: theme.transitions.create(\"width\"),\r\n    width: \"100%\",\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      width: 120,\r\n      \"&:focus\": {\r\n        width: 200\r\n      }\r\n    }\r\n  },\r\n  date: {\r\n    color: \"grey !important\",\r\n    fontSize: 12 + \"px !important\"\r\n  },\r\n  expand: {\r\n    marginLeft: \"auto\"\r\n  },\r\n  expandOpen: {}\r\n}));\r\n\r\nconst StyledMenu = withStyles({\r\n  paper: {\r\n    border: \"1px solid #d3d4d5\"\r\n  }\r\n})(props => (\r\n  <Menu\r\n    elevation={0}\r\n    getContentAnchorEl={null}\r\n    anchorOrigin={{\r\n      vertical: \"bottom\",\r\n      horizontal: \"left\"\r\n    }}\r\n    transformOrigin={{\r\n      vertical: \"top\",\r\n      horizontal: \"left\"\r\n    }}\r\n    {...props}\r\n  />\r\n));\r\n\r\nconst StyledMenuItem = withStyles(theme => ({\r\n  root: {\r\n    \"&:focus\": {\r\n      backgroundColor: theme.palette.primary.main,\r\n      \"& .MuiListItemIcon-root, & .MuiListItemText-primary\": {\r\n        color: theme.palette.common.white\r\n      }\r\n    }\r\n  }\r\n}))(MenuItem);\r\n\r\nconst GreenRadio = withStyles({\r\n  root: {\r\n    color: green[400],\r\n    \"&$checked\": {\r\n      color: green[600]\r\n    }\r\n  },\r\n  checked: {}\r\n})(props => <Radio color=\"default\" {...props} />);\r\n\r\nconst calendarStrings = {\r\n  lastDay: \"[Yesterday at] LT\",\r\n  sameDay: \"[Today at] LT\",\r\n  nextDay: \"[Tomorrow at] LT\",\r\n  lastWeek: \"[last] dddd [at] LT\",\r\n  nextWeek: \"dddd [at] LT\",\r\n  sameElse: \"L\"\r\n};\r\n\r\nconst Search = ({ searchMessage, messages, room }) => {\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const [selectedCollapse, setSelectedCollapse] = React.useState(-1);\r\n  const [selectedRadio, setSelectedRadio] = React.useState(\"a\");\r\n  const [searchValue, setSearchValue] = React.useState(\"\");\r\n\r\n  const handleRadioChange = event => {\r\n    setSelectedRadio(event.target.value);\r\n    searchMessage(room, searchValue, event.target.value === \"c\" ? 0 : 1);\r\n  };\r\n\r\n  const handleClick = event => {\r\n    event.preventDefault();\r\n    setAnchorEl(event.currentTarget);\r\n    searchMessage(room, searchValue, 1);\r\n  };\r\n\r\n  const onInputChange = ev => {\r\n    setSearchValue(ev);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleExpandClick = id => {\r\n    setSelectedCollapse(selectedCollapse === id ? -1 : id);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.search}>\r\n      <IconButton onClick={ev => handleClick(ev)}>\r\n        <div className={classes.searchIcon}>\r\n          <SearchIcon />\r\n        </div>\r\n      </IconButton>\r\n      <InputBase\r\n        placeholder=\"Search\"\r\n        onChange={ev => {\r\n          ev.preventDefault();\r\n          onInputChange(ev.target.value);\r\n        }}\r\n        onKeyPress={ev => (ev.key === \"Enter\" ? handleClick(ev) : null)}\r\n        classes={{\r\n          root: classes.inputRoot,\r\n          input: classes.inputInput\r\n        }}\r\n        inputProps={{ \"aria-label\": \"search\" }}\r\n      />\r\n      <StyledMenu\r\n        id=\"customized-menu\"\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        open={Boolean(anchorEl)}\r\n        onClose={handleClose}\r\n      >\r\n        <Box className=\"pl-3 d-flex \">\r\n          <FormControl component=\"fieldset\">\r\n            <RadioGroup\r\n              aria-label=\"position\"\r\n              name=\"position\"\r\n              value={selectedRadio}\r\n              onChange={handleRadioChange}\r\n              row\r\n              className=\"d-flex flex-nowrap\"\r\n            >\r\n              <FormControlLabel\r\n                value=\"end\"\r\n                control={\r\n                  <Radio\r\n                    checked={selectedRadio === \"a\"}\r\n                    value=\"a\"\r\n                    name=\"radio-button-demo\"\r\n                    inputProps={{ \"aria-label\": \"A\" }}\r\n                  />\r\n                }\r\n                label=\"This room\"\r\n                labelPlacement=\"end\"\r\n              />\r\n              <FormControlLabel\r\n                value=\"end\"\r\n                control={\r\n                  <GreenRadio\r\n                    checked={selectedRadio === \"c\"}\r\n                    value=\"c\"\r\n                    name=\"radio-button-demo\"\r\n                    inputProps={{ \"aria-label\": \"C\" }}\r\n                  />\r\n                }\r\n                label=\"All rooms\"\r\n                labelPlacement=\"end\"\r\n              />\r\n            </RadioGroup>\r\n          </FormControl>\r\n        </Box>\r\n        {messages.map((message, i) => {\r\n          return (\r\n            <div key={i}>\r\n              <StyledMenuItem\r\n                key={i}\r\n                className={clsx(classes.expand, {\r\n                  [classes.expandOpen]: selectedCollapse === i ? true : false\r\n                })}\r\n                onClick={() => {\r\n                  handleExpandClick(i);\r\n                }}\r\n                aria-expanded={selectedCollapse === i ? true : false}\r\n                aria-label=\"show more\"\r\n              >\r\n                <ListItemAvatar>\r\n                  <Avatar src={images[message.avatar]} />\r\n                </ListItemAvatar>\r\n                <ListItemText\r\n                  primary={\r\n                    <React.Fragment>\r\n                      {message.name + \" \"}\r\n                      <Moment\r\n                        calendar={calendarStrings}\r\n                        className={classes.date}\r\n                      >\r\n                        {message.date}\r\n                      </Moment>\r\n                    </React.Fragment>\r\n                  }\r\n                />\r\n              </StyledMenuItem>\r\n              <Collapse\r\n                in={selectedCollapse === i}\r\n                timeout=\"auto\"\r\n                unmountOnExit\r\n              >\r\n                <Typography component=\"span\" variant=\"body2\">\r\n                  {message.message}\r\n                </Typography>\r\n              </Collapse>\r\n            </div>\r\n          );\r\n        })}\r\n      </StyledMenu>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  messages: state.messages.searchedResults,\r\n  room: state.room.item\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { searchMessage }\r\n)(Search);\r\n","import React from \"react\";\r\nimport {\r\n  Typography,\r\n  Radio,\r\n  AppBar,\r\n  Toolbar,\r\n  Menu,\r\n  MenuItem\r\n} from \"@material-ui/core\";\r\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\r\nimport Search from \"./Search\";\r\nimport { green } from \"@material-ui/core/colors\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1\r\n  },\r\n\r\n  title: {\r\n    flexGrow: 1,\r\n    display: \"none\",\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      display: \"block\"\r\n    }\r\n  }\r\n}));\r\n\r\nconst Header = ({ searchMessages, searchMessagesResult }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\" style={{ backgroundColor: \"#404346\" }}>\r\n        <Toolbar variant=\"dense\">\r\n          <Typography className={classes.title} variant=\"h6\" noWrap>\r\n            Let's Chat!\r\n          </Typography>\r\n          <Search />\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst IsTyping = ({ userTyping }) => {\r\n  return (\r\n    <Typography component=\"span\" variant=\"caption\" style={{ color: \"white\" }}>\r\n      {userTyping !== \" is typing..\" && userTyping}\r\n    </Typography>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({ userTyping: state.userTyping.item });\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  {}\r\n)(IsTyping);\r\n","import React from \"react\";\r\nimport { setRoom } from \"../actions/roomActions\";\r\nimport { connect } from \"react-redux\";\r\nimport { mdiReload } from \"@mdi/js\";\r\nimport Icon from \"@mdi/react\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport axios from \"axios\";\r\nimport { getMessages, getLatestMessages } from \"../actions/messagesActions\";\r\n\r\nconst FetchChips = ({ room, getMessages, getLatestMessages }) => {\r\n  return (\r\n    <React.Fragment>\r\n      <Chip\r\n        style={{ boxShadow: \"0px 6px 16px -4px rgba(0,0,0,0.56)\" }}\r\n        avatar={<Icon path={mdiReload} title=\"reload\" size={1} color=\"white\" />}\r\n        label={\r\n          <Typography\r\n            component=\"span\"\r\n            variant=\"caption\"\r\n            style={{ color: \"white\" }}\r\n          >\r\n            Fetch all\r\n          </Typography>\r\n        }\r\n        onClick={e => {\r\n          e.preventDefault();\r\n          getMessages(room);\r\n        }}\r\n        variant=\"outlined\"\r\n      />\r\n      <Chip\r\n        style={{ boxShadow: \"0px 6px 16px -4px rgba(0,0,0,0.56)\" }}\r\n        avatar={<Icon path={mdiReload} title=\"reload\" size={1} color=\"white\" />}\r\n        label={\r\n          <Typography\r\n            component=\"span\"\r\n            variant=\"caption\"\r\n            style={{ color: \"white\" }}\r\n          >\r\n            Last 10\r\n          </Typography>\r\n        }\r\n        onClick={e => {\r\n          e.preventDefault();\r\n          getLatestMessages(room);\r\n        }}\r\n        variant=\"outlined\"\r\n        className=\"ml-2\"\r\n      />\r\n    </React.Fragment>\r\n  );\r\n};\r\nconst mapStateToProps = state => ({ room: state.room.item });\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { getMessages, getLatestMessages }\r\n)(FetchChips);\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport io from \"socket.io-client\";\r\nimport queryString from \"query-string\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Form from \"../components/Form\";\r\nimport Rooms from \"./Rooms\";\r\nimport Messages from \"./Messages\";\r\nimport Header from \"../components/Header\";\r\nimport IsTyping from \"../components/IsTyping\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport FetchChips from \"./FetchChips\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst ENDPOINT = \"https://chat-by-as.herokuapp.com/\";\r\nconst socket = io(ENDPOINT);\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  chipsXS: {\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      display: \"flex\",\r\n      justifyContent: \"space-evenly\"\r\n    }\r\n  },\r\n  roomHeightBreak: {\r\n    [theme.breakpoints.between(\"xs\", \"sm\")]: {\r\n      paddingRight: \"0px\",\r\n      paddingLeft: \"0px\"\r\n    },\r\n    [theme.breakpoints.between(\"lg\", \"xl\")]: {\r\n      height: \"80vh\",\r\n      paddingRight: \"0px\"\r\n    },\r\n    [theme.breakpoints.only(\"lg\")]: {\r\n      height: \"75vh\",\r\n      paddingRight: \"0px\"\r\n    }\r\n  },\r\n  messageHeightBreak: {\r\n    [theme.breakpoints.between(\"xs\", \"sm\")]: {\r\n      height: \"33vh\",\r\n      paddingRight: \"0px\",\r\n      paddingLeft: \"0px\"\r\n    },\r\n    [theme.breakpoints.between(\"lg\", \"xl\")]: {\r\n      height: \"80vh\",\r\n      paddingRight: \"0px\"\r\n    },\r\n    [theme.breakpoints.only(\"sm\")]: {\r\n      height: \"50vh\",\r\n      paddingRight: \"0px\"\r\n    },\r\n    [theme.breakpoints.only(\"lg\")]: {\r\n      height: \"75vh\",\r\n      paddingRight: \"0px\"\r\n    }\r\n  }\r\n}));\r\n\r\nconst Chat = ({ location }) => {\r\n  const classes = useStyles();\r\n  const [name, setName] = useState(\"\");\r\n  const [avatar, setAvatar] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const { name, avatar } = queryString.parse(location.search);\r\n    setName(name);\r\n    setAvatar(avatar);\r\n    console.log(\"calling join emit\");\r\n    //Emmiting Join\r\n    socket.emit(\"join\", { name, avatar, room: \"main\" }, error => {\r\n      console.log(\"inside join emit, added user\");\r\n      console.log(error);\r\n    });\r\n\r\n    return () => {\r\n      socket.emit(\"disconnect\");\r\n      socket.off();\r\n    };\r\n  }, [ENDPOINT, location.search]);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Container maxWidth=\"xl\">\r\n        <Grid container>\r\n          <Grid item md={12} xl={12} xs={12}>\r\n            <Header />\r\n          </Grid>\r\n          <Grid item md={2} xl={2} sm={12} xs={12} className=\"mt-3\">\r\n            <Box className={classes.roomHeightBreak}>\r\n              <Rooms socket={socket} />\r\n            </Box>\r\n            <Box className=\"mt-4\">\r\n              <Box className={classes.chipsXS}>\r\n                <FetchChips />\r\n              </Box>\r\n            </Box>\r\n          </Grid>\r\n          <Grid item md={10} xl={10} xs={12}>\r\n            <div className=\"container-fluid\">\r\n              <div className=\"row\">\r\n                <div className={classes.messageHeightBreak + \" col-md-12 mt-3\"}>\r\n                  <Messages socket={socket} name={name} />\r\n                </div>\r\n              </div>\r\n              <div className=\"row mt-2\">\r\n                <div className=\"col-md-12 col-xs-12\">\r\n                  <Form socket={socket} name={name} avatar={avatar} />\r\n                </div>\r\n              </div>\r\n              <div className=\"row\">\r\n                <div className=\"col-md-6 col-xs-6 text-left\">\r\n                  <IsTyping />\r\n                </div>\r\n                <div className=\"col-md-6 col-xs-6 text-right pt-2\">\r\n                  <Typography\r\n                    component=\"span\"\r\n                    variant=\"caption\"\r\n                    style={{ color: \"white\" }}\r\n                  >\r\n                    Made with  by Ali Shadman\r\n                  </Typography>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chat;\r\n","import React, { useState } from \"react\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport clsx from \"clsx\";\r\nimport images from \"../helpers/Images\";\r\nimport Flickity from \"react-flickity-component\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport \"../Media/flickity.min.css\";\r\nimport {\r\n  Avatar,\r\n  Box,\r\n  IconButton,\r\n  Typography,\r\n  Collapse,\r\n  Grid\r\n} from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  expand: {\r\n    transform: \"rotate(0deg)\",\r\n    marginLeft: \"auto\",\r\n    transition: theme.transitions.create(\"transform\", {\r\n      duration: theme.transitions.duration.shortest\r\n    })\r\n  },\r\n  expandOpen: {\r\n    transform: \"rotate(180deg)\"\r\n  },\r\n  avatarSelected: {\r\n    backgroundColor: \"rgba(0, 0, 0, 0.08) !important\"\r\n  }\r\n}));\r\n\r\nconst SelectAvatar = ({ onAvtClick }) => {\r\n  const classes = useStyles();\r\n  const [expanded, setExpanded] = useState(false);\r\n  const [avatarIndexs, setAvatarIndexs] = useState([0, 12]);\r\n  const [selectedAvatar, setSelectedAvatar] = useState(0);\r\n  const handleExpandClick = () => {\r\n    setExpanded(!expanded);\r\n  };\r\n\r\n  const onAvatarClick = (firstIndex, secondIndex) => {\r\n    if (firstIndex === 0) {\r\n      setSelectedAvatar(secondIndex);\r\n      onAvtClick(secondIndex);\r\n    }\r\n    if (firstIndex === 1) {\r\n      setSelectedAvatar(secondIndex + 12);\r\n      onAvtClick(secondIndex + 12);\r\n    }\r\n    if (firstIndex === 2) {\r\n      setSelectedAvatar(secondIndex + 24);\r\n      onAvtClick(secondIndex + 24);\r\n    }\r\n  };\r\n\r\n  const disableAvatar = (firstIndex, secondIndex) => {\r\n    if (firstIndex === 0) {\r\n      return selectedAvatar === secondIndex;\r\n    }\r\n    if (firstIndex === 1) {\r\n      return selectedAvatar === secondIndex + 12;\r\n    }\r\n    if (firstIndex === 2) {\r\n      return selectedAvatar === secondIndex + 24;\r\n    }\r\n  };\r\n\r\n  const CarouselBehaviour = () => {\r\n    let dividedArr = Array(images.length / 12).fill(0);\r\n\r\n    var copyAvatarIndexs = [...avatarIndexs];\r\n\r\n    return dividedArr.map((e, i) => {\r\n      if (i !== 0) {\r\n        copyAvatarIndexs[0] += 12;\r\n        copyAvatarIndexs[1] += 12;\r\n      }\r\n\r\n      return (\r\n        <Grid container className=\"mb-2 pl-2 pr-2 mt-2\" key={i}>\r\n          {images\r\n            .slice(copyAvatarIndexs[0], copyAvatarIndexs[1])\r\n            .map((img, ind) => {\r\n              return (\r\n                <Grid\r\n                  md={2}\r\n                  item\r\n                  key={ind}\r\n                  className=\"d-inline-flex  justify-content-center\"\r\n                >\r\n                  <IconButton\r\n                    onClick={e => {\r\n                      e.preventDefault();\r\n                      onAvatarClick(i, ind);\r\n                    }}\r\n                    disabled={disableAvatar(i, ind)}\r\n                    className={\r\n                      disableAvatar(i, ind) ? classes.avatarSelected : \"\"\r\n                    }\r\n                  >\r\n                    <Avatar src={img} />\r\n                  </IconButton>\r\n                </Grid>\r\n              );\r\n            })}\r\n        </Grid>\r\n      );\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Box>\r\n      <IconButton\r\n        className={clsx(classes.expand, {\r\n          [classes.expandOpen]: expanded\r\n        })}\r\n        onClick={handleExpandClick}\r\n        aria-expanded={expanded}\r\n        aria-label=\"show more\"\r\n      >\r\n        <ExpandMoreIcon />\r\n      </IconButton>\r\n      <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n        <Flickity>{CarouselBehaviour()}</Flickity>\r\n      </Collapse>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default SelectAvatar;\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { withStyles, makeStyles } from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport SelectAvatar from \"./SelectAvatar\";\r\n\r\nconst CssTextField = withStyles({\r\n  root: {\r\n    \"& label.Mui-focused\": {\r\n      color: \"black\"\r\n    },\r\n    \"& .MuiInput-underline:after\": {\r\n      borderBottomColor: \"#B0B2B5\"\r\n    },\r\n    \"& .MuiOutlinedInput-root\": {\r\n      \"& fieldset\": {\r\n        borderColor: \"red\"\r\n      },\r\n      \"&:hover fieldset\": {\r\n        borderColor: \"#76787D\"\r\n      },\r\n      \"&.Mui-focused fieldset\": {\r\n        borderColor: \"#76787D\"\r\n      }\r\n    }\r\n  }\r\n})(TextField);\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\"\r\n  },\r\n  margin: {\r\n    margin: theme.spacing(1)\r\n  }\r\n}));\r\n\r\nconst Join = () => {\r\n  const classes = useStyles();\r\n\r\n  const defaultProps = {\r\n    borderColor: \"#B0B2B5\",\r\n    m: 5,\r\n    border: 3\r\n  };\r\n  const [username, setUsername] = useState(\"\");\r\n  const [avatar, setAvatar] = useState(0);\r\n\r\n  return (\r\n    <Container\r\n      maxWidth=\"sm\"\r\n      className=\"d-flex flex-column justify-content-center vh-100\"\r\n    >\r\n      <Box\r\n        borderRadius={16}\r\n        {...defaultProps}\r\n        style={{ backgroundColor: \"#76787D\" }}\r\n      >\r\n        <Box className=\"text-center\">\r\n          <Typography variant=\"h1\">Join</Typography>\r\n        </Box>\r\n\r\n        <Divider variant=\"middle\" />\r\n        <Box className=\"text-center\">\r\n          <CssTextField\r\n            className={classes.margin}\r\n            id=\"custom-css-standard-input\"\r\n            label=\"Username\"\r\n            value={username}\r\n            onChange={e => {\r\n              setUsername(e.target.value);\r\n            }}\r\n          />\r\n        </Box>\r\n        <Box className=\"text-center pt-2\">\r\n          <SelectAvatar\r\n            onAvtClick={avt => {\r\n              setAvatar(avt);\r\n            }}\r\n          />\r\n        </Box>\r\n        <Box className=\"text-center pt-2 pb-2\">\r\n          <Link\r\n            onClick={e => (!username ? e.preventDefault() : null)}\r\n            to={`/chat?name=${username}&avatar=${avatar}`}\r\n          >\r\n            <Button variant=\"contained\" color=\"primary\">\r\n              Go\r\n            </Button>\r\n          </Link>\r\n        </Box>\r\n      </Box>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Join;\r\n","import {\r\n  POST_MESSAGE,\r\n  GET_MESSAGES,\r\n  DELETE_MESSAGE,\r\n  EDIT_MESSAGE,\r\n  SEARCH_MESSAGE\r\n} from \"../actions/types\";\r\n\r\nconst initialState = { items: [], item: [], searchedResults: [] };\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case POST_MESSAGE:\r\n      return { ...state, items: [...state.items, action.payload] };\r\n    case GET_MESSAGES:\r\n      let copyArr = [...state.items];\r\n      let copyAction = [...action.payload];\r\n      if (copyArr[0]) {\r\n        if (copyArr[0].length < 1) {\r\n          copyAction.push(copyArr[0]);\r\n        }\r\n      }\r\n      return {\r\n        ...state,\r\n        items: copyArr[0] ? copyAction : action.payload\r\n      };\r\n    case DELETE_MESSAGE:\r\n      let newArray = [...state.items];\r\n      console.log(newArray.filter(e => e._id !== action.id));\r\n      return { ...state, items: newArray.filter(e => e._id !== action.id) };\r\n    case EDIT_MESSAGE:\r\n      //Create copy of messages and edit the state\r\n      let copyMess = [...state.items];\r\n      let editedMess = copyMess.find(e => e._id === action.id);\r\n      editedMess.message = action.message;\r\n      let editedMessIndex = copyMess.findIndex(e => e._id === action.id);\r\n      copyMess.splice(editedMessIndex, 1, editedMess);\r\n      return { ...state, items: copyMess };\r\n\r\n    case SEARCH_MESSAGE:\r\n      return { ...state, searchedResults: action.payload };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { ADD_USER, SET_USERS } from \"../actions/types\";\r\n\r\nconst initialState = { items: [], item: [] };\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_USER:\r\n      return { ...state, items: [...state.items, action.payload] };\r\n    case SET_USERS:\r\n      return { ...state, items: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { SET_ROOM } from \"../actions/types\";\r\n\r\nconst initialState = { item: \"main\" };\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_ROOM:\r\n      return { ...state, item: action.payload };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { SET_USER_TYPING } from \"../actions/types\";\r\n\r\nconst initialState = { item: \" is typing..\" };\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_TYPING:\r\n      return { ...state, item: action.payload };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\nimport messagesReducer from \"./messagesReducer.js\";\r\nimport usersReducer from \"./usersReducer.js\";\r\nimport roomReducer from \"./roomReducer.js\";\r\nimport userTypingReducer from \"./userTypingReducer\";\r\n\r\nexport default combineReducers({\r\n  messages: messagesReducer,\r\n  users: usersReducer,\r\n  room: roomReducer,\r\n  userTyping: userTypingReducer\r\n});\r\n","import React from \"react\";\r\nimport Chat from \"./components/Chat\";\r\nimport Join from \"./components/Join\";\r\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport rootReducer from \"./reducers\";\r\nimport \"./App.css\";\r\n\r\nconst initialState = {};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  initialState,\r\n  compose(\r\n    applyMiddleware(...middleware),\r\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n  )\r\n);\r\n\r\nclass App extends React.Component {\r\n  render() {\r\n    return (\r\n      <Provider store={store}>\r\n        <Router>\r\n          <Route path=\"/\" exact component={Join} />\r\n          <Route path=\"/chat\" component={Chat} />\r\n        </Router>\r\n      </Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}