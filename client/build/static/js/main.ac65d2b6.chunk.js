(this.webpackJsonpnodejschat=this.webpackJsonpnodejschat||[]).push([[0],{136:function(e,t,a){e.exports=a.p+"static/media/001-man-13.15712c0a.svg"},137:function(e,t,a){e.exports=a.p+"static/media/002-woman-14.2414c095.svg"},138:function(e,t,a){e.exports=a.p+"static/media/003-woman-13.0edc384b.svg"},139:function(e,t,a){e.exports=a.p+"static/media/004-woman-12.4cc23eec.svg"},140:function(e,t,a){e.exports=a.p+"static/media/005-woman-11.4b92798f.svg"},141:function(e,t,a){e.exports=a.p+"static/media/006-woman-10.34ec441d.svg"},142:function(e,t,a){e.exports=a.p+"static/media/007-woman-9.bfbe8a5a.svg"},143:function(e,t,a){e.exports=a.p+"static/media/008-woman-8.359a04b3.svg"},144:function(e,t,a){e.exports=a.p+"static/media/009-woman-7.097950b2.svg"},145:function(e,t,a){e.exports=a.p+"static/media/010-woman-6.56caf7d3.svg"},146:function(e,t,a){e.exports=a.p+"static/media/011-woman-5.2c13d4c4.svg"},147:function(e,t,a){e.exports=a.p+"static/media/012-woman-4.10dedf9a.svg"},148:function(e,t,a){e.exports=a.p+"static/media/013-woman-3.ccd33987.svg"},149:function(e,t,a){e.exports=a.p+"static/media/014-man-12.647a2b5b.svg"},150:function(e,t,a){e.exports=a.p+"static/media/015-man-11.4c2513c3.svg"},151:function(e,t,a){e.exports=a.p+"static/media/016-man-10.b131a5ec.svg"},152:function(e,t,a){e.exports=a.p+"static/media/017-man-9.dfcb8c75.svg"},153:function(e,t,a){e.exports=a.p+"static/media/018-man-8.46ed9461.svg"},154:function(e,t,a){e.exports=a.p+"static/media/019-man-7.24286cc5.svg"},155:function(e,t,a){e.exports=a.p+"static/media/020-man-6.378c61cb.svg"},156:function(e,t,a){e.exports=a.p+"static/media/021-man-5.1eb5a28c.svg"},157:function(e,t,a){e.exports=a.p+"static/media/022-man-4.67595189.svg"},158:function(e,t,a){e.exports=a.p+"static/media/023-man-3.0ce7816a.svg"},159:function(e,t,a){e.exports=a.p+"static/media/024-man-2.c46d8f7a.svg"},160:function(e,t,a){e.exports=a.p+"static/media/025-man-1.351777d4.svg"},161:function(e,t,a){e.exports=a.p+"static/media/026-man.084ac449.svg"},162:function(e,t,a){e.exports=a.p+"static/media/027-boy-6.2ecb076c.svg"},163:function(e,t,a){e.exports=a.p+"static/media/028-boy-5.a7bd0a9c.svg"},164:function(e,t,a){e.exports=a.p+"static/media/029-boy-4.3fd0abf1.svg"},165:function(e,t,a){e.exports=a.p+"static/media/030-boy-3.ed96e16c.svg"},166:function(e,t,a){e.exports=a.p+"static/media/031-boy-2.c5427690.svg"},167:function(e,t,a){e.exports=a.p+"static/media/032-boy-1.a7a70bc1.svg"},168:function(e,t,a){e.exports=a.p+"static/media/033-boy.4ff5460a.svg"},169:function(e,t,a){e.exports=a.p+"static/media/034-woman-2.94893de5.svg"},170:function(e,t,a){e.exports=a.p+"static/media/035-woman-1.5d0ce5ae.svg"},171:function(e,t,a){e.exports=a.p+"static/media/036-woman.c49d22fe.svg"},194:function(e,t,a){e.exports=a(318)},199:function(e,t,a){},228:function(e,t){},315:function(e,t,a){},317:function(e,t,a){},318:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),o=a(11),i=a.n(o),s=(a(199),a(66)),l=a(35),m=a(129),u=a(130),d=a(180),p=a(16),f=a.n(p),b=a(39),g=a(14),v=a(9),E=a(7),h=a(134),x=a.n(h),O=a(135),j=a.n(O),w=a(378),y=a(358),k=a(355),C=a(361),N=a(362),S=a(381),L=a(21),T=a(357),I=Object(k.a)((function(e){return{alignselfcenter:{alignSelf:"center"}}})),D=function(e){var t=e.onInputChange,a=e.message,n=e.sendMessage,r=I(),o=Object(L.a)(),i=Object(T.a)(o.breakpoints.down("sm"));return c.a.createElement(y.a,{container:!0},c.a.createElement(y.a,{item:!0,md:10,xl:10,xs:8},c.a.createElement(S.a,{id:"filled-full-width",fullWidth:!0,margin:"normal",variant:"filled",value:a,onChange:function(e){return t(e)},onKeyPress:function(e){return"Enter"===e.key?n(e):null}})),c.a.createElement(y.a,{item:!0,md:2,xl:2,xs:4,className:r.alignselfcenter+" pl-2"},c.a.createElement(C.a,{variant:"contained",color:"primary",className:r.button,endIcon:c.a.createElement(N.a,null,"send"),size:i?"small":"large",onClick:function(e){n(e)}},"Send")))},R=a(360),M=a(380),_=a(321),A=a(363),W=a(47),z=a(364),P=a(365),B=a(366),G=a(136),F=a.n(G),Y=a(137),H=a.n(Y),X=a(138),J=a.n(X),K=a(139),$=a.n(K),U=a(140),q=a.n(U),Q=a(141),V=a.n(Q),Z=a(142),ee=a.n(Z),te=a(143),ae=a.n(te),ne=a(144),re=a.n(ne),ce=a(145),oe=a.n(ce),ie=a(146),se=a.n(ie),le=a(147),me=a.n(le),ue=a(148),de=a.n(ue),pe=a(149),fe=a.n(pe),be=a(150),ge=a.n(be),ve=a(151),Ee=a.n(ve),he=a(152),xe=a.n(he),Oe=a(153),je=a.n(Oe),we=a(154),ye=a.n(we),ke=a(155),Ce=a.n(ke),Ne=a(156),Se=a.n(Ne),Le=a(157),Te=a.n(Le),Ie=a(158),De=a.n(Ie),Re=a(159),Me=a.n(Re),_e=a(160),Ae=a.n(_e),We=a(161),ze=a.n(We),Pe=a(162),Be=a.n(Pe),Ge=a(163),Fe=a.n(Ge),Ye=a(164),He=a.n(Ye),Xe=a(165),Je=a.n(Xe),Ke=a(166),$e=a.n(Ke),Ue=a(167),qe=a.n(Ue),Qe=a(168),Ve=a.n(Qe),Ze=a(169),et=a.n(Ze),tt=a(170),at=a.n(tt),nt=a(171),rt=a.n(nt),ct=[F.a,H.a,J.a,$.a,q.a,V.a,ee.a,ae.a,re.a,oe.a,se.a,me.a,de.a,fe.a,ge.a,Ee.a,xe.a,je.a,ye.a,Ce.a,Se.a,Te.a,De.a,Me.a,Ae.a,ze.a,Be.a,Fe.a,He.a,Je.a,$e.a,qe.a,Ve.a,et.a,at.a,rt.a],ot=Object(k.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},roomsXS:Object(E.a)({},e.breakpoints.down("xs"),{justifyContent:"center"}),avatarMini:{width:"18px",height:"18px"},avatarListMini:{minWidth:"0px",paddingLeft:"4%"},dots:{color:"white !important",paddingLeft:"2%",paddingTop:"4%"}}})),it=function(e){var t=e.roomName,a=e.users,n=e.index,r=e.currentRoom,o=e.selectedIndex,i=e.handleListItemClick,s=ot(),l=c.a.useState(!1),m=Object(v.a)(l,2),u=m[0],d=m[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(_.a,{button:!0,className:s.roomsXS,selected:o===n,onClick:function(e){return function(e,a){t.toLowerCase()===r.toLowerCase()&&d(!u),i(e,a)}(e,n)}},c.a.createElement(M.a,null,c.a.createElement(A.a,null,t)),t.toLowerCase()===r.toLowerCase()&&a.map((function(e,t){var a=e.avatar,n=e.room;return t>4?n.toLowerCase()===r.toLowerCase()&&c.a.createElement(W.a,{component:"span",variant:"caption",className:s.dots},"..."):n.toLowerCase()===r.toLowerCase()&&c.a.createElement(z.a,{key:t,className:s.avatarListMini},c.a.createElement(P.a,{className:s.avatarMini,src:ct[a]}))}))),c.a.createElement(B.a,{in:o===n&&u,timeout:"auto",unmountOnExit:!0},c.a.createElement(R.a,{dense:!0},a.map((function(e,t){var a=e.avatar,n=e.name;return c.a.createElement(_.a,{key:t},c.a.createElement(z.a,null,c.a.createElement(P.a,{src:ct[a]})),c.a.createElement(A.a,{primary:n}))})))))},st=a(72),lt=a.n(st),mt=Object(k.a)({root:{backgroundColor:"#404346",color:"white",overflow:"auto",height:"100%"},room:{backgroundColor:"#404346"},messageBox:{alignItems:"flex-end"}}),ut=function(e){var t=e.rooms,a=e.currentRoom,n=e.changeRoom,r=e.users,o=mt(),i=c.a.useState(0),s=Object(v.a)(i,2),l=s[0],m=s[1],u=function(e,a){e.preventDefault(),n(t[a].toLowerCase()),m(a)};return c.a.createElement(lt.a,{className:o.root},c.a.createElement(R.a,{className:o.room},t.map((function(e,t){return c.a.createElement(M.a,{key:t},c.a.createElement(it,{roomName:e,currentRoom:a,index:t,users:r,selectedIndex:l,handleListItemClick:u}))}))))},dt=a(384),pt=a(370),ft=a(371),bt=a(372),gt=a(373),vt=a(179),Et=a(367),ht=a(368),xt=a(369),Ot=a(172),jt=a.n(Ot),wt=a(59),yt=a(58),kt=a.n(yt),Ct=a(173),Nt=a.n(Ct),St=a(3),Lt=a(4),Tt=Object(Lt.a)({paper:{border:"1px solid #d3d4d5"}})((function(e){return c.a.createElement(vt.a,Object.assign({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},e))})),It=Object(Lt.a)((function(e){return{root:{"&:hover":{backgroundColor:e.palette.grey,"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.common.white}}}}}))(Et.a),Dt=function(e){var t=e.onDelete,a=e.onEdit,n=e.id,o=(e.thereIsId,Object(r.useState)(!1)),i=Object(v.a)(o,2),s=(i[0],i[1],c.a.useState(null)),l=Object(v.a)(s,2),m=l[0],u=l[1];return c.a.createElement(M.a,null,c.a.createElement(ht.a,{onClick:function(e){u(e.currentTarget)}},c.a.createElement(kt.a,{path:wt.a,title:"Menu",size:1,color:"white"})),c.a.createElement(Tt,{id:"customized-menu",anchorEl:m,keepMounted:!0,open:Boolean(m),onClose:function(){u(null)}},c.a.createElement(It,{onClick:function(e){e.preventDefault(),t(n)}},c.a.createElement(xt.a,null,c.a.createElement(jt.a,{color:"secondary"})),c.a.createElement(A.a,{primary:c.a.createElement(W.a,{component:"span",className:"pl-3",variant:"body2"},"Delete")})),c.a.createElement(It,{onClick:function(e){e.preventDefault(),a(n)}},c.a.createElement(xt.a,null,c.a.createElement(Nt.a,{color:"primary"})),c.a.createElement(A.a,{primary:c.a.createElement(W.a,{component:"span",className:"pl-3",variant:"body2"},"Edit")}))))},Rt=a(73),Mt=a.n(Rt),_t=a(174),At=Object(k.a)((function(e){return{whiteText:{color:"white !important"},date:{color:"grey !important",fontSize:"12px !important"},menuRight:{textAlign:"right"}}})),Wt={lastDay:"[Yesterday at] LT",sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",lastWeek:"[last] dddd [at] LT",nextWeek:"dddd [at] LT",sameElse:"L"},zt=function(e){var t=e.message,a=e.name,n=e.date,o=e.avatar,i=e.onDelete,s=e.onEdit,l=e.id,m=At(),u=Object(r.useState)(!1),d=Object(v.a)(u,2),p=d[0],f=d[1],b=Object(r.useState)(t),g=Object(v.a)(b,2),E=g[0],h=g[1],x=function(){f(!p)},O=function(e){e.preventDefault(),s(l,E),f(!1)};return c.a.createElement(c.a.Fragment,null,c.a.createElement(_.a,{alignItems:"flex-start"},c.a.createElement(z.a,null,c.a.createElement(P.a,{src:ct[o]})),c.a.createElement(A.a,{primary:c.a.createElement(c.a.Fragment,null,c.a.createElement(W.a,null,a+"  ",c.a.createElement(Mt.a,{calendar:Wt,className:m.date},n))),secondary:c.a.createElement(c.a.Fragment,null,!p&&c.a.createElement(W.a,{component:"span",variant:"body2",className:m.whiteText},c.a.createElement(_t.Twemoji,{svg:!0,text:t})))}),p&&c.a.createElement(dt.a,{open:!0,onClose:x,"aria-labelledby":"form-dialog-title"},c.a.createElement(pt.a,{id:"form-dialog-title"},"Edit"),c.a.createElement(ft.a,null,c.a.createElement(bt.a,null,"Edit the message.."),c.a.createElement(S.a,{id:"standard-name",autoFocus:!0,value:E,onChange:function(e){return function(e){e.preventDefault(),h(e.target.value)}(e)},margin:"normal",fullWidth:!0,onKeyPress:function(e){return"Enter"===e.key?O(e):null}})),c.a.createElement(gt.a,null,c.a.createElement(C.a,{onClick:x,color:"secondary"},"Cancel"),c.a.createElement(C.a,{onClick:function(e){!function(e){f(!p),O(e)}(e)},color:"primary"},"Edit"))),"Admin"!==a&&c.a.createElement(M.a,{className:m.menuRight},c.a.createElement(Dt,{onDelete:i,onEdit:function(e){f(!0)},id:l}))))},Pt=Object(k.a)({root:{backgroundColor:"#404346",color:"white",overflow:"auto",height:"100%"},messageBox:{alignItems:"flex-end"}}),Bt=function(e){var t=e.messages,a=(e.name,e.onDelete),n=e.onEdit,r=(e.isEditing,Pt());return c.a.createElement(lt.a,{className:r.root},c.a.createElement(R.a,null,t.map((function(e,t){return c.a.createElement(M.a,{key:e._id?e._id:t,className:r.messageBox},c.a.createElement(zt,{message:e.message,avatar:e.avatar,name:e.name,date:e.date,id:e._id,onDelete:a,onEdit:n}))}))))},Gt=a(46),Ft=a.n(Gt),Yt=a(383),Ht=a(375),Xt=a(376),Jt=a(385),Kt=a(359),$t=a(387),Ut=a(377),qt=a(8),Qt=a(175),Vt=a.n(Qt),Zt=a(374),ea=Object(k.a)((function(e){return{root:{flexGrow:1},title:Object(E.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(E.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(qt.c)(e.palette.common.white,.9),"&:hover":{backgroundColor:Object(qt.c)(e.palette.common.white,.9)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"black"},inputInput:Object(E.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}}),date:{color:"grey !important",fontSize:"12px !important"},expand:{marginLeft:"auto"},expandOpen:{}}})),ta=Object(Lt.a)({paper:{border:"1px solid #d3d4d5"}})((function(e){return c.a.createElement(vt.a,Object.assign({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},e))})),aa=Object(Lt.a)((function(e){return{root:{"&:focus":{backgroundColor:e.palette.primary.main,"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.common.white}}}}}))(Et.a),na=Object(Lt.a)({root:{color:Zt.a[400],"&$checked":{color:Zt.a[600]}},checked:{}})((function(e){return c.a.createElement(Yt.a,Object.assign({color:"default"},e))})),ra={lastDay:"[Yesterday at] LT",sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",lastWeek:"[last] dddd [at] LT",nextWeek:"dddd [at] LT",sameElse:"L"},ca=function(e){var t=e.searchMessages,a=e.searchMessagesResult,n=ea(),r=c.a.useState(null),o=Object(v.a)(r,2),i=o[0],s=o[1],l=c.a.useState(-1),m=Object(v.a)(l,2),u=m[0],d=m[1],p=c.a.useState("a"),f=Object(v.a)(p,2),b=f[0],g=f[1],h=c.a.useState(""),x=Object(v.a)(h,2),O=x[0],j=x[1],w=function(e){e.preventDefault(),s(e.currentTarget),t(O,1)};return c.a.createElement("div",{className:n.root},c.a.createElement(Ht.a,{position:"static",style:{backgroundColor:"#404346"}},c.a.createElement(Xt.a,{variant:"dense"},c.a.createElement(W.a,{className:n.title,variant:"h6",noWrap:!0},"Let's Chat!"),c.a.createElement("div",{className:n.search},c.a.createElement(ht.a,{onClick:function(e){return w(e)}},c.a.createElement("div",{className:n.searchIcon},c.a.createElement(Vt.a,null))),c.a.createElement(Jt.a,{placeholder:"Search\u2026",onChange:function(e){e.preventDefault(),function(e){j(e)}(e.target.value)},onKeyPress:function(e){return"Enter"===e.key?w(e):null},classes:{root:n.inputRoot,input:n.inputInput},inputProps:{"aria-label":"search"}}),c.a.createElement(ta,{id:"customized-menu",anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:function(){s(null)}},c.a.createElement(M.a,{className:"pl-3 d-flex "},c.a.createElement(Kt.a,{component:"fieldset"},c.a.createElement($t.a,{"aria-label":"position",name:"position",value:b,onChange:function(e){g(e.target.value),t(O,"c"===e.target.value?0:1)},row:!0,className:"d-flex flex-nowrap"},c.a.createElement(Ut.a,{value:"end",control:c.a.createElement(Yt.a,{checked:"a"===b,value:"a",name:"radio-button-demo",inputProps:{"aria-label":"A"}}),label:"This room",labelPlacement:"end"}),c.a.createElement(Ut.a,{value:"end",control:c.a.createElement(na,{checked:"c"===b,value:"c",name:"radio-button-demo",inputProps:{"aria-label":"C"}}),label:"All rooms",labelPlacement:"end"})))),a.map((function(e,t){return c.a.createElement("div",{key:t},c.a.createElement(aa,{key:t,className:Object(St.a)(n.expand,Object(E.a)({},n.expandOpen,u===t)),onClick:function(){var e;d(u===(e=t)?-1:e)},"aria-expanded":u===t,"aria-label":"show more"},c.a.createElement(z.a,null,c.a.createElement(P.a,{src:ct[e.avatar]})),c.a.createElement(A.a,{primary:c.a.createElement(c.a.Fragment,null,e.name+" ",c.a.createElement(Mt.a,{calendar:ra,className:n.date},e.date))})),c.a.createElement(B.a,{in:u===t,timeout:"auto",unmountOnExit:!0},c.a.createElement(W.a,{component:"span",variant:"body2"},e.message)))})))))))},oa=function(e){var t=e.userTyping;return c.a.createElement(W.a,{component:"span",variant:"caption",style:{color:"white"}}," is typing.."!==t&&t)},ia=a(386),sa=Object(k.a)((function(e){var t,a;return{chipsXS:Object(E.a)({},e.breakpoints.down("xs"),{display:"flex",justifyContent:"space-evenly"}),roomHeightBreak:(t={},Object(E.a)(t,e.breakpoints.between("xs","sm"),{paddingRight:"0px",paddingLeft:"0px"}),Object(E.a)(t,e.breakpoints.between("lg","xl"),{height:"80vh",paddingRight:"0px"}),Object(E.a)(t,e.breakpoints.only("lg"),{height:"73vh",paddingRight:"0px"}),t),messageHeightBreak:(a={},Object(E.a)(a,e.breakpoints.between("xs","sm"),{height:"33vh",paddingRight:"0px",paddingLeft:"0px"}),Object(E.a)(a,e.breakpoints.between("lg","xl"),{height:"80vh",paddingRight:"0px"}),Object(E.a)(a,e.breakpoints.only("sm"),{height:"50vh",paddingRight:"0px"}),Object(E.a)(a,e.breakpoints.only("lg"),{height:"73vh",paddingRight:"0px"}),a)}})),la=function(e){var t=e.location,a=sa(),o=Object(r.useState)(""),i=Object(v.a)(o,2),s=i[0],l=i[1],m=Object(r.useState)("main"),u=Object(v.a)(m,2),d=u[0],p=u[1],E=Object(r.useState)(0),h=Object(v.a)(E,2),O=h[0],k=h[1],C=Object(r.useState)([]),N=Object(v.a)(C,2),S=N[0],L=N[1],T=Object(r.useState)([]),I=Object(v.a)(T,2),R=I[0],_=I[1],A=Object(r.useState)(""),z=Object(v.a)(A,2),P=z[0],B=z[1],G=Object(r.useState)([]),F=Object(v.a)(G,2),Y=F[0],H=F[1],X=Object(r.useState)([]),J=Object(v.a)(X,2),K=J[0],$=J[1],U=Object(r.useState)(!1),q=Object(v.a)(U,2),Q=q[0],V=q[1],Z=Object(r.useState)(" is typing.."),ee=Object(v.a)(Z,2),te=ee[0],ae=ee[1],ne=function(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current=e})),t.current}(d),re="https://chat-by-as.herokuapp.com/",ce=["Main","Chill","Evening","Room1","Room2","Room3"];Object(r.useEffect)((function(){var e=j.a.parse(t.search),a=e.name,r=e.avatar;return n=x()(re),l(a),L(ce),k(r),n.emit("join",{name:a,avatar:r,room:d},(function(e){console.log(e)})),le("main"),function(){n.emit("disconnect"),n.off()}}),[re,t.search]),Object(r.useEffect)((function(){return n.on("message",(function(e){H([].concat(Object(g.a)(Y),[e]))})),n.on("roomData",(function(e){var t=e.users;_(t)})),function(){n.emit("disconnect"),n.off()}}),[Y]),Object(r.useEffect)((function(){if(d!==ne&&ne)return n.emit("CHANGE_ROOM",{room:d},(function(e){console.log(e)})),n.on("roomData",(function(e){var t=e.users;_(t)})),function(){n.emit("disconnect"),n.off()}}),[d]),Object(r.useEffect)((function(){n.on("IS_TYPING",(function(e){var t=e.name,a=te,n=t.concat(a);ae(n)})),n.on("IS_NOT_TYPING",(function(e){var t=e.message;ae(t)}))}),[Q]);var oe=function(){var e=Object(b.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!P){e.next=7;break}return n.emit("SEND_MESSAGE",P,(function(){B("")})),a={name:s,avatar:O,message:P,room:d},e.next=6,Ft.a.post("/messages",a);case 6:e.sent;case 7:le(d);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(b.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d!==t){e.next=2;break}return e.abrupt("return");case 2:le(t),p(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(b.a)(f.a.mark((function e(t,a){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0===a?"".concat(t):"room/".concat(d,"/").concat(t),e.next=3,Ft.a.get("/messages/search/".concat(n));case 3:r=e.sent,$(r.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),le=function(){var e=Object(b.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ft.a.get("/messages/rooms/".concat(t));case 2:a=e.sent,H(a.data.length>=1?a.data:[]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(b.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ft.a.delete("/messages/id/".concat(t));case 2:e.sent,a=Object(g.a)(Y),H(a.filter((function(e){return e._id!==t})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(b.a)(f.a.mark((function e(t,a){var n,r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ft.a.put("/messages/id/".concat(t),{message:a});case 2:e.sent,n=Object(g.a)(Y),(r=n.find((function(e){return e._id===t}))).message=a,c=n.findIndex((function(e){return e._id===t})),n.splice(c,1,r),H(n);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),de=function(){var e=Object(b.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ft.a.get("/messages/latest/".concat(d));case 2:t=e.sent,H(t.data.reverse());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=function(){V(!1),n.emit("SEND_IS_NOT_TYPING",{room:d,name:s},(function(e){console.log(e)}))};return c.a.createElement("div",{className:"App"},c.a.createElement(w.a,{maxWidth:"xl"},c.a.createElement(y.a,{container:!0},c.a.createElement(y.a,{item:!0,md:12,xl:12,xs:12},c.a.createElement(ca,{searchMessages:function(e,t){se(e,t)},searchMessagesResult:K})),c.a.createElement(y.a,{item:!0,md:2,xl:2,sm:12,xs:12,className:"mt-3"},c.a.createElement(M.a,{className:a.roomHeightBreak},c.a.createElement(ut,{rooms:S,currentRoom:d,users:R,changeRoom:ie})),c.a.createElement(M.a,{className:"mt-4"},c.a.createElement(M.a,{className:a.chipsXS},c.a.createElement(ia.a,{avatar:c.a.createElement(kt.a,{path:wt.b,title:"reload",size:1,color:"white"}),label:c.a.createElement(W.a,{component:"span",variant:"caption",style:{color:"white"}},"Fetch all"),onClick:function(e){e.preventDefault(),le(d)},variant:"outlined"}),c.a.createElement(ia.a,{avatar:c.a.createElement(kt.a,{path:wt.b,title:"reload",size:1,color:"white"}),label:c.a.createElement(W.a,{component:"span",variant:"caption",style:{color:"white"}},"Last 10"),onClick:function(e){e.preventDefault(),de()},variant:"outlined",className:"ml-2"})))),c.a.createElement(y.a,{item:!0,md:10,xl:10,xs:12},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:a.messageHeightBreak+" col-md-12 mt-3"},c.a.createElement(Bt,{messages:Y,name:s,onDelete:me,onEdit:ue}))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-12 col-xs-12"},c.a.createElement(D,{onInputChange:function(e){var t;B(e.target.value),!1===Q?(V(!0),n.emit("SEND_IS_TYPING",{room:d,name:s},(function(e){console.log(e)})),t=setTimeout(pe,4e3)):(clearTimeout(t),t=setTimeout(pe,4e3),clearTimeout(t))},message:P,sendMessage:function(e){oe(e)}}))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-12 col-xs-12 text-left"},c.a.createElement(oa,{userTyping:te}))))))))},ma=a(75),ua=a(379),da=a(177),pa=a.n(da),fa=a(176),ba=a.n(fa),ga=(a(315),Object(k.a)((function(e){return{expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatarSelected:{backgroundColor:"rgba(0, 0, 0, 0.08) !important"}}}))),va=function(e){var t=e.onAvtClick,a=ga(),n=Object(r.useState)(!1),o=Object(v.a)(n,2),i=o[0],s=o[1],l=Object(r.useState)([0,12]),m=Object(v.a)(l,2),u=m[0],d=(m[1],Object(r.useState)(0)),p=Object(v.a)(d,2),f=p[0],b=p[1],h=function(e,t){return 0===e?f===t+1:1===e?f===t+13:2===e?f===t+25:void 0};return c.a.createElement(M.a,null,c.a.createElement(ht.a,{className:Object(St.a)(a.expand,Object(E.a)({},a.expandOpen,i)),onClick:function(){s(!i)},"aria-expanded":i,"aria-label":"show more"},c.a.createElement(pa.a,null)),c.a.createElement(B.a,{in:i,timeout:"auto",unmountOnExit:!0},c.a.createElement(ba.a,null,function(){var e=Array(ct.length/12).fill(0),n=Object(g.a)(u);return e.map((function(e,r){return 0!==r&&(n[0]+=12,n[1]+=12),c.a.createElement(y.a,{container:!0,className:"mb-2 pl-2 pr-2 mt-2",key:r},ct.slice(n[0],n[1]).map((function(e,n){return c.a.createElement(y.a,{md:2,item:!0,key:n,className:"d-inline-flex  justify-content-center"},c.a.createElement(ht.a,{onClick:function(e){var a,c;e.preventDefault(),c=n,0===(a=r)&&(b(c+1),t(c+1)),1===a&&(b(c+13),t(c+13)),2===a&&(b(c+25),t(c+25))},disabled:h(r,n),className:h(r,n)?a.avatarSelected:""},c.a.createElement(P.a,{src:e})))})))}))}())))},Ea=function(){var e=Object(r.useState)(""),t=Object(v.a)(e,2),a=t[0],n=t[1],o=Object(r.useState)(0),i=Object(v.a)(o,2),s=i[0],l=i[1];return c.a.createElement(w.a,{maxWidth:"sm",className:"d-flex flex-column justify-content-center vh-100"},c.a.createElement(M.a,Object.assign({borderRadius:16},{borderColor:"#1985A1",m:5,border:3}),c.a.createElement(M.a,{className:"text-center"},c.a.createElement(W.a,{variant:"h1"},"Join")),c.a.createElement(ua.a,{variant:"middle"}),c.a.createElement(M.a,{className:"text-center"},c.a.createElement(S.a,{label:"Username",value:a,onChange:function(e){n(e.target.value)},margin:"normal"})),c.a.createElement(M.a,{className:"text-center pt-2"},c.a.createElement(va,{onAvtClick:function(e){l(e)}})),c.a.createElement(M.a,{className:"text-center pt-2 pb-2"},c.a.createElement(ma.b,{onClick:function(e){return a?null:e.preventDefault()},to:"/chat?name=".concat(a,"&avatar=").concat(s)},c.a.createElement(C.a,{variant:"contained",color:"primary"},"Go")))))},ha=a(38),xa=(a(317),function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement(ma.a,null,c.a.createElement(ha.a,{path:"/",exact:!0,component:Ea}),c.a.createElement(ha.a,{path:"/chat",component:la}))}}]),t}(c.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(xa,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[194,1,2]]]);
//# sourceMappingURL=main.ac65d2b6.chunk.js.map